<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Logística Coppel Reto</title>
    <style>
        body { font-family: 'Segoe UI', sans-serif; margin: 0; background-color: #f0f2f5; color: #333; }
        .header { background: #005A9C; color: white; padding: 20px; text-align: center; box-shadow: 0 4px 8px rgba(0,0,0,0.1); }
        .header h1 { margin: 0; font-size: 2.5em; }
        .header h1 span { color: #FFD100; }
        .container { display: flex; max-width: 1800px; margin: 20px auto; gap: 20px; flex-wrap: wrap; }
        .sidebar { flex: 1; min-width: 400px; background: white; padding: 20px; border-radius: 12px; box-shadow: 0 4px 8px rgba(0,0,0,0.1); display: flex; flex-direction: column; gap: 20px;}
        .main-content { flex: 3; min-width: 60%; }
        #map { height: 750px; width: 100%; border-radius: 12px; box-shadow: 0 4px 8px rgba(0,0,0,0.1); }
        .card { background: white; padding: 20px; border-radius: 12px; box-shadow: 0 4px 8px rgba(0,0,0,0.1); }
        h2, h3 { color: #005A9C; border-bottom: 2px solid #FFD100; padding-bottom: 10px; margin-top: 0; }
        .kpi-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: 15px; text-align: center; }
        .kpi-value { font-size: 2em; font-weight: bold; color: #003366; }
        .kpi-label { font-size: 0.9em; color: #666; }
        #daySelector { width: 100%; padding: 10px; border-radius: 8px; border: 1px solid #ccc; font-size: 1em; }
        .route-list { max-height: 400px; overflow-y: auto; padding-right: 10px; }
        .route-item { border: 1px solid #eee; border-left: 5px solid #005A9C; padding: 15px; margin-bottom: 10px; border-radius: 8px; cursor: pointer; transition: background-color 0.2s, transform 0.2s; }
        .route-item:hover { background-color: #f0f8ff; transform: scale(1.02); }
        .gemini-insight { background: linear-gradient(135deg, #e0f7fa 0%, #b2ebf2 100%); border: 1px solid #4dd0e1; border-left: 5px solid #00acc1; padding: 15px; border-radius: 8px; }
        .gemini-insight h3 { border-color: #00acc1; }
    </style>
</head>
<body>

    <div class="header">
        <h1>Coppel <span>Logistics Intelligence Hub</span></h1>
    </div>

    <div class="container">
        <div class="sidebar">
            <div class="card">
                <h2>Panel de Control</h2>
                <select id="daySelector" onchange="updateDashboard()"></select>
            </div>
            
            <div class="card">
                <h3>KPIs del Día</h3>
                <div class="kpi-grid">
                    <div>
                        <div class="kpi-value" id="kpi-cost">$0</div>
                        <div class="kpi-label">Costo Variable</div>
                    </div>
                    <div>
                        <div class="kpi-value" id="kpi-trips">0</div>
                        <div class="kpi-label">Viajes Totales</div>
                    </div>
                    <div>
                        <div class="kpi-value" id="kpi-cash">$0</div>
                        <div class="kpi-label">Efectivo Movido</div>
                    </div>
                </div>
            </div>

            <div class="card gemini-insight">
                <h3><img src="https://fonts.gstatic.com/s/i/short-term/release/googlesymbols/auto_awesome/default/48px.svg" style="vertical-align: middle; height: 1.2em;"> Insights con IA</h3>
                <div id="gemini-insights-content">Selecciona un día para ver el análisis.</div>
            </div>
        </div>
        <div class="main-content">
            <div id="map"></div>
             <div class="card" style="margin-top:20px;">
                <h3>Rutas Óptimas del Día</h3>
                <div id="route-list" class="route-list"></div>
            </div>
        </div>
    </div>

    <script>
        const hubData = {
  "results": {
    "Monday": {
      "day": "Monday",
      "status": "Optimal",
      "variableCost": 34662.62,
      "totalTrips": 4,
      "cashRedistributed": 160584.46,
      "routes": [
        {
          "from": "JUAREZ",
          "to": "JUAREZ UNIVERSIDAD",
          "amount": 88428.4,
          "trips": 1,
          "path": [
            {
              "lat": 20.6750952,
              "lng": -103.3488641
            }
          ]
        },
        {
          "from": "8 DE julio",
          "to": "BODEGA DE LIQUIDACIO",
          "amount": 55956.57,
          "trips": 1,
          "path": [
            {
              "lat": 20.6262655,
              "lng": -103.3719988
            },
            {
              "lat": 20.6265931,
              "lng": -103.3718576
            },
            {
              "lat": 20.6264096,
              "lng": -103.3713799
            },
            {
              "lat": 20.6262394,
              "lng": -103.3709267
            },
            {
              "lat": 20.6260123,
              "lng": -103.3702906
            },
            {
              "lat": 20.6275745,
              "lng": -103.3696267
            },
            {
              "lat": 20.6291352,
              "lng": -103.3689624
            },
            {
              "lat": 20.6288987,
              "lng": -103.3683367
            },
            {
              "lat": 20.628725,
              "lng": -103.3678769
            },
            {
              "lat": 20.628618,
              "lng": -103.3674916
            },
            {
              "lat": 20.6284691,
              "lng": -103.3664116
            },
            {
              "lat": 20.6283378,
              "lng": -103.3655588
            },
            {
              "lat": 20.6281659,
              "lng": -103.3644362
            },
            {
              "lat": 20.6280769,
              "lng": -103.3638654
            },
            {
              "lat": 20.6279978,
              "lng": -103.3633559
            },
            {
              "lat": 20.6279147,
              "lng": -103.362849
            },
            {
              "lat": 20.6278403,
              "lng": -103.3624197
            },
            {
              "lat": 20.6275883,
              "lng": -103.3609062
            },
            {
              "lat": 20.6275687,
              "lng": -103.3608016
            },
            {
              "lat": 20.6287389,
              "lng": -103.3603111
            },
            {
              "lat": 20.6288854,
              "lng": -103.3602474
            },
            {
              "lat": 20.6283569,
              "lng": -103.3575542
            },
            {
              "lat": 20.6281936,
              "lng": -103.3567628
            },
            {
              "lat": 20.6281162,
              "lng": -103.3563465
            },
            {
              "lat": 20.6281,
              "lng": -103.3562589
            },
            {
              "lat": 20.628049,
              "lng": -103.3559129
            },
            {
              "lat": 20.6280316,
              "lng": -103.3557946
            },
            {
              "lat": 20.6279676,
              "lng": -103.3554018
            },
            {
              "lat": 20.6278591,
              "lng": -103.3545923
            },
            {
              "lat": 20.6277494,
              "lng": -103.3537747
            },
            {
              "lat": 20.6277056,
              "lng": -103.3534474
            },
            {
              "lat": 20.627668,
              "lng": -103.3531676
            },
            {
              "lat": 20.6276348,
              "lng": -103.3529197
            },
            {
              "lat": 20.6276069,
              "lng": -103.3527113
            },
            {
              "lat": 20.6275953,
              "lng": -103.3526249
            },
            {
              "lat": 20.6275663,
              "lng": -103.3523739
            },
            {
              "lat": 20.6281347,
              "lng": -103.3520104
            },
            {
              "lat": 20.6280955,
              "lng": -103.3518934
            },
            {
              "lat": 20.6288923,
              "lng": -103.3515553
            },
            {
              "lat": 20.6291848,
              "lng": -103.3514312
            },
            {
              "lat": 20.6287155,
              "lng": -103.350174
            },
            {
              "lat": 20.6282715,
              "lng": -103.3487571
            },
            {
              "lat": 20.6282735,
              "lng": -103.3487169
            },
            {
              "lat": 20.6282798,
              "lng": -103.3486436
            },
            {
              "lat": 20.6282869,
              "lng": -103.3485938
            },
            {
              "lat": 20.6285463,
              "lng": -103.3479633
            },
            {
              "lat": 20.6289479,
              "lng": -103.3473706
            },
            {
              "lat": 20.6292471,
              "lng": -103.3447653
            },
            {
              "lat": 20.6287396,
              "lng": -103.3446928
            },
            {
              "lat": 20.6282307,
              "lng": -103.3446202
            }
          ]
        },
        {
          "from": "INDEPENDENCIA",
          "to": "MESA DEL NORTE",
          "amount": 11791.3,
          "trips": 1,
          "path": [
            {
              "lat": 20.7211625,
              "lng": -103.3201344
            },
            {
              "lat": 20.7186913,
              "lng": -103.3206834
            },
            {
              "lat": 20.7174246,
              "lng": -103.3211128
            },
            {
              "lat": 20.7172744,
              "lng": -103.3212933
            },
            {
              "lat": 20.7170325,
              "lng": -103.321397
            },
            {
              "lat": 20.7168997,
              "lng": -103.3214283
            },
            {
              "lat": 20.716618,
              "lng": -103.3203961
            },
            {
              "lat": 20.7164016,
              "lng": -103.3196785
            },
            {
              "lat": 20.7163727,
              "lng": -103.3196187
            },
            {
              "lat": 20.7163305,
              "lng": -103.319532
            },
            {
              "lat": 20.7163111,
              "lng": -103.3194892
            },
            {
              "lat": 20.7161484,
              "lng": -103.3184593
            },
            {
              "lat": 20.7160553,
              "lng": -103.3175094
            },
            {
              "lat": 20.7159811,
              "lng": -103.3167486
            },
            {
              "lat": 20.7159149,
              "lng": -103.3160701
            },
            {
              "lat": 20.7132782,
              "lng": -103.3164389
            },
            {
              "lat": 20.7129602,
              "lng": -103.3165227
            },
            {
              "lat": 20.7126823,
              "lng": -103.3166032
            },
            {
              "lat": 20.7124436,
              "lng": -103.3158402
            },
            {
              "lat": 20.7122421,
              "lng": -103.3151746
            },
            {
              "lat": 20.7120722,
              "lng": -103.3151193
            },
            {
              "lat": 20.7110927,
              "lng": -103.3154654
            },
            {
              "lat": 20.709964,
              "lng": -103.3158629
            },
            {
              "lat": 20.7088631,
              "lng": -103.316259
            },
            {
              "lat": 20.7077512,
              "lng": -103.316659
            },
            {
              "lat": 20.706634,
              "lng": -103.317062
            },
            {
              "lat": 20.7064656,
              "lng": -103.3165002
            },
            {
              "lat": 20.7064052,
              "lng": -103.3162989
            },
            {
              "lat": 20.7063405,
              "lng": -103.3160762
            },
            {
              "lat": 20.7049941,
              "lng": -103.3166813
            }
          ]
        },
        {
          "from": "GRAN TERRAZA OBLA",
          "to": "SAN ONOFRE",
          "amount": 4408.18,
          "trips": 1,
          "path": [
            {
              "lat": 20.6880969,
              "lng": -103.2973179
            },
            {
              "lat": 20.688535,
              "lng": -103.2971685
            },
            {
              "lat": 20.6889656,
              "lng": -103.2970217
            },
            {
              "lat": 20.6891644,
              "lng": -103.2969539
            },
            {
              "lat": 20.6903998,
              "lng": -103.2965295
            },
            {
              "lat": 20.6903376,
              "lng": -103.2962678
            },
            {
              "lat": 20.691228,
              "lng": -103.2962577
            },
            {
              "lat": 20.6929561,
              "lng": -103.2962718
            },
            {
              "lat": 20.6941337,
              "lng": -103.2962676
            },
            {
              "lat": 20.6947357,
              "lng": -103.2962682
            },
            {
              "lat": 20.6958581,
              "lng": -103.2963899
            },
            {
              "lat": 20.6963216,
              "lng": -103.2965936
            },
            {
              "lat": 20.6967902,
              "lng": -103.2967995
            }
          ]
        }
      ],
      "cost_breakdown": {
        "distancia": 195.88,
        "seguro": 481.75,
        "electronico": 1948.44
      },
      "raw_t": {
        "(0,7)": 1.0,
        "(13,14)": 1.0,
        "(20,9)": 1.0,
        "(2,11)": 1.0
      },
      "raw_x": {
        "(0,7)": 88428.404,
        "(13,14)": 55956.575,
        "(20,9)": 4408.18,
        "(2,11)": 11791.297
      },
      "raw_y": {
        "0": 338860.38,
        "1": 262627.84,
        "10": 6571.659,
        "11": 3405.837,
        "12": 13780.12,
        "13": 154732.25,
        "14": 28895.718,
        "15": 214218.47,
        "16": 13392.756,
        "17": 141167.74,
        "18": 122202.43,
        "19": 7799.085,
        "2": 325178.75,
        "20": 10612.713,
        "3": 22540.554,
        "4": 111847.49,
        "5": 145741.68,
        "6": 10911.357,
        "7": 8419.077,
        "8": 3988.656,
        "9": 1545.03
      },
      "gemini_insight": "<h4>AI-Powered Insights for Monday</h4><h5>Cost Analysis:</h5><p>Optimized daily cost: <b>$34,662.62</b>. This is the first day of analysis, no historical trend available yet.</p><h5>Route & Cash Flow Efficiency:</h5><p>A total of <b>4</b> trips were made, redistributing <b>$160,584.46</b>.<br>The key transfer was <b>$88,428.40</b> from <b>JUAREZ</b> to <b>JUAREZ UNIVERSIDAD</b>.</p><h5>Estimated Savings Breakdown:</h5><p>By optimizing, an estimated <b>$32,929.49</b> was saved.</p><ul><li>Projected unoptimized cost: <b>$67,592.11</b></li><li>Actual optimized cost: <b>$34,662.62</b></li><li><b>Estimated Net Savings: $32,929.49</b></li></ul><p>This represents a <b>95.0% return</b> on logistics spending.</p><p style='font-size:0.85em; color: #444; margin-top:15px;'><i><b>Note:</b> Savings are logistics efficiencies.</i></p>"
    },
    "Tuesday": {
      "day": "Tuesday",
      "status": "Optimal",
      "variableCost": 30684.62,
      "totalTrips": 6,
      "cashRedistributed": 186894.5,
      "routes": [
        {
          "from": "JUAREZ",
          "to": "JUAREZ UNIVERSIDAD",
          "amount": 66459.91,
          "trips": 1,
          "path": [
            {
              "lat": 20.6750952,
              "lng": -103.3488641
            }
          ]
        },
        {
          "from": "8 DE julio",
          "to": "BODEGA DE LIQUIDACIO",
          "amount": 46409.5,
          "trips": 1,
          "path": [
            {
              "lat": 20.6262655,
              "lng": -103.3719988
            },
            {
              "lat": 20.6265931,
              "lng": -103.3718576
            },
            {
              "lat": 20.6264096,
              "lng": -103.3713799
            },
            {
              "lat": 20.6262394,
              "lng": -103.3709267
            },
            {
              "lat": 20.6260123,
              "lng": -103.3702906
            },
            {
              "lat": 20.6275745,
              "lng": -103.3696267
            },
            {
              "lat": 20.6291352,
              "lng": -103.3689624
            },
            {
              "lat": 20.6288987,
              "lng": -103.3683367
            },
            {
              "lat": 20.628725,
              "lng": -103.3678769
            },
            {
              "lat": 20.628618,
              "lng": -103.3674916
            },
            {
              "lat": 20.6284691,
              "lng": -103.3664116
            },
            {
              "lat": 20.6283378,
              "lng": -103.3655588
            },
            {
              "lat": 20.6281659,
              "lng": -103.3644362
            },
            {
              "lat": 20.6280769,
              "lng": -103.3638654
            },
            {
              "lat": 20.6279978,
              "lng": -103.3633559
            },
            {
              "lat": 20.6279147,
              "lng": -103.362849
            },
            {
              "lat": 20.6278403,
              "lng": -103.3624197
            },
            {
              "lat": 20.6275883,
              "lng": -103.3609062
            },
            {
              "lat": 20.6275687,
              "lng": -103.3608016
            },
            {
              "lat": 20.6287389,
              "lng": -103.3603111
            },
            {
              "lat": 20.6288854,
              "lng": -103.3602474
            },
            {
              "lat": 20.6283569,
              "lng": -103.3575542
            },
            {
              "lat": 20.6281936,
              "lng": -103.3567628
            },
            {
              "lat": 20.6281162,
              "lng": -103.3563465
            },
            {
              "lat": 20.6281,
              "lng": -103.3562589
            },
            {
              "lat": 20.628049,
              "lng": -103.3559129
            },
            {
              "lat": 20.6280316,
              "lng": -103.3557946
            },
            {
              "lat": 20.6279676,
              "lng": -103.3554018
            },
            {
              "lat": 20.6278591,
              "lng": -103.3545923
            },
            {
              "lat": 20.6277494,
              "lng": -103.3537747
            },
            {
              "lat": 20.6277056,
              "lng": -103.3534474
            },
            {
              "lat": 20.627668,
              "lng": -103.3531676
            },
            {
              "lat": 20.6276348,
              "lng": -103.3529197
            },
            {
              "lat": 20.6276069,
              "lng": -103.3527113
            },
            {
              "lat": 20.6275953,
              "lng": -103.3526249
            },
            {
              "lat": 20.6275663,
              "lng": -103.3523739
            },
            {
              "lat": 20.6281347,
              "lng": -103.3520104
            },
            {
              "lat": 20.6280955,
              "lng": -103.3518934
            },
            {
              "lat": 20.6288923,
              "lng": -103.3515553
            },
            {
              "lat": 20.6291848,
              "lng": -103.3514312
            },
            {
              "lat": 20.6287155,
              "lng": -103.350174
            },
            {
              "lat": 20.6282715,
              "lng": -103.3487571
            },
            {
              "lat": 20.6282735,
              "lng": -103.3487169
            },
            {
              "lat": 20.6282798,
              "lng": -103.3486436
            },
            {
              "lat": 20.6282869,
              "lng": -103.3485938
            },
            {
              "lat": 20.6285463,
              "lng": -103.3479633
            },
            {
              "lat": 20.6289479,
              "lng": -103.3473706
            },
            {
              "lat": 20.6292471,
              "lng": -103.3447653
            },
            {
              "lat": 20.6287396,
              "lng": -103.3446928
            },
            {
              "lat": 20.6282307,
              "lng": -103.3446202
            }
          ]
        },
        {
          "from": "JUAN PABLO II",
          "to": "SAN ONOFRE",
          "amount": 41903.89,
          "trips": 1,
          "path": [
            {
              "lat": 20.7057467,
              "lng": -103.2861214
            },
            {
              "lat": 20.7050984,
              "lng": -103.286449
            },
            {
              "lat": 20.7039739,
              "lng": -103.2868988
            },
            {
              "lat": 20.7037536,
              "lng": -103.286952
            },
            {
              "lat": 20.7037441,
              "lng": -103.2869743
            },
            {
              "lat": 20.70293,
              "lng": -103.2888903
            },
            {
              "lat": 20.7023833,
              "lng": -103.2902596
            },
            {
              "lat": 20.7018266,
              "lng": -103.291698
            },
            {
              "lat": 20.701242,
              "lng": -103.2931556
            },
            {
              "lat": 20.7004914,
              "lng": -103.2950313
            },
            {
              "lat": 20.7001202,
              "lng": -103.2949797
            },
            {
              "lat": 20.699714,
              "lng": -103.2949298
            },
            {
              "lat": 20.6993844,
              "lng": -103.2948804
            },
            {
              "lat": 20.6990557,
              "lng": -103.2948372
            },
            {
              "lat": 20.6986368,
              "lng": -103.2947796
            },
            {
              "lat": 20.6983451,
              "lng": -103.2948456
            },
            {
              "lat": 20.6981852,
              "lng": -103.2947816
            },
            {
              "lat": 20.697991,
              "lng": -103.2943602
            },
            {
              "lat": 20.697735,
              "lng": -103.2943604
            },
            {
              "lat": 20.6975055,
              "lng": -103.2950336
            },
            {
              "lat": 20.6967902,
              "lng": -103.2967995
            }
          ]
        },
        {
          "from": "INDEPENDENCIA",
          "to": "MESA DEL NORTE",
          "amount": 26401.77,
          "trips": 1,
          "path": [
            {
              "lat": 20.7211625,
              "lng": -103.3201344
            },
            {
              "lat": 20.7186913,
              "lng": -103.3206834
            },
            {
              "lat": 20.7174246,
              "lng": -103.3211128
            },
            {
              "lat": 20.7172744,
              "lng": -103.3212933
            },
            {
              "lat": 20.7170325,
              "lng": -103.321397
            },
            {
              "lat": 20.7168997,
              "lng": -103.3214283
            },
            {
              "lat": 20.716618,
              "lng": -103.3203961
            },
            {
              "lat": 20.7164016,
              "lng": -103.3196785
            },
            {
              "lat": 20.7163727,
              "lng": -103.3196187
            },
            {
              "lat": 20.7163305,
              "lng": -103.319532
            },
            {
              "lat": 20.7163111,
              "lng": -103.3194892
            },
            {
              "lat": 20.7161484,
              "lng": -103.3184593
            },
            {
              "lat": 20.7160553,
              "lng": -103.3175094
            },
            {
              "lat": 20.7159811,
              "lng": -103.3167486
            },
            {
              "lat": 20.7159149,
              "lng": -103.3160701
            },
            {
              "lat": 20.7132782,
              "lng": -103.3164389
            },
            {
              "lat": 20.7129602,
              "lng": -103.3165227
            },
            {
              "lat": 20.7126823,
              "lng": -103.3166032
            },
            {
              "lat": 20.7124436,
              "lng": -103.3158402
            },
            {
              "lat": 20.7122421,
              "lng": -103.3151746
            },
            {
              "lat": 20.7120722,
              "lng": -103.3151193
            },
            {
              "lat": 20.7110927,
              "lng": -103.3154654
            },
            {
              "lat": 20.709964,
              "lng": -103.3158629
            },
            {
              "lat": 20.7088631,
              "lng": -103.316259
            },
            {
              "lat": 20.7077512,
              "lng": -103.316659
            },
            {
              "lat": 20.706634,
              "lng": -103.317062
            },
            {
              "lat": 20.7064656,
              "lng": -103.3165002
            },
            {
              "lat": 20.7064052,
              "lng": -103.3162989
            },
            {
              "lat": 20.7063405,
              "lng": -103.3160762
            },
            {
              "lat": 20.7049941,
              "lng": -103.3166813
            }
          ]
        },
        {
          "from": "TETLAN",
          "to": "RIO NILO",
          "amount": 3160.18,
          "trips": 1,
          "path": [
            {
              "lat": 20.6599112,
              "lng": -103.2769617
            },
            {
              "lat": 20.6600464,
              "lng": -103.2776073
            },
            {
              "lat": 20.6599251,
              "lng": -103.2776527
            },
            {
              "lat": 20.6591138,
              "lng": -103.2777341
            },
            {
              "lat": 20.6579318,
              "lng": -103.2778747
            },
            {
              "lat": 20.6574624,
              "lng": -103.2779446
            },
            {
              "lat": 20.6569613,
              "lng": -103.2780196
            },
            {
              "lat": 20.6568979,
              "lng": -103.2780286
            },
            {
              "lat": 20.6564739,
              "lng": -103.2780961
            },
            {
              "lat": 20.6560068,
              "lng": -103.2781724
            },
            {
              "lat": 20.6555614,
              "lng": -103.2782433
            },
            {
              "lat": 20.6554524,
              "lng": -103.2782642
            },
            {
              "lat": 20.6551327,
              "lng": -103.2783146
            },
            {
              "lat": 20.6548828,
              "lng": -103.2783573
            },
            {
              "lat": 20.6547091,
              "lng": -103.2783848
            },
            {
              "lat": 20.6543283,
              "lng": -103.2784455
            },
            {
              "lat": 20.6543704,
              "lng": -103.2789664
            },
            {
              "lat": 20.6544081,
              "lng": -103.2794321
            },
            {
              "lat": 20.654447,
              "lng": -103.279913
            },
            {
              "lat": 20.6544868,
              "lng": -103.2804054
            },
            {
              "lat": 20.6545612,
              "lng": -103.2813247
            },
            {
              "lat": 20.6540521,
              "lng": -103.2814003
            },
            {
              "lat": 20.6532922,
              "lng": -103.2815538
            },
            {
              "lat": 20.6527583,
              "lng": -103.2816616
            },
            {
              "lat": 20.6522483,
              "lng": -103.2817646
            },
            {
              "lat": 20.6517256,
              "lng": -103.2818701
            }
          ]
        },
        {
          "from": "ARBOLEDAS",
          "to": "EL FRESNO",
          "amount": 2559.24,
          "trips": 1,
          "path": [
            {
              "lat": 20.647129,
              "lng": -103.3872316
            },
            {
              "lat": 20.6469948,
              "lng": -103.3872588
            },
            {
              "lat": 20.646476,
              "lng": -103.3873602
            },
            {
              "lat": 20.6464449,
              "lng": -103.3871896
            },
            {
              "lat": 20.6502395,
              "lng": -103.3864184
            },
            {
              "lat": 20.651395,
              "lng": -103.3863145
            },
            {
              "lat": 20.6514148,
              "lng": -103.385688
            },
            {
              "lat": 20.6516762,
              "lng": -103.384656
            },
            {
              "lat": 20.6518033,
              "lng": -103.3844566
            },
            {
              "lat": 20.6519897,
              "lng": -103.3834498
            },
            {
              "lat": 20.6521672,
              "lng": -103.3824825
            },
            {
              "lat": 20.6525772,
              "lng": -103.3807591
            },
            {
              "lat": 20.6526463,
              "lng": -103.3805969
            },
            {
              "lat": 20.6533621,
              "lng": -103.3805868
            },
            {
              "lat": 20.6541783,
              "lng": -103.3805137
            },
            {
              "lat": 20.6542641,
              "lng": -103.3805067
            },
            {
              "lat": 20.6547772,
              "lng": -103.3804633
            },
            {
              "lat": 20.6552144,
              "lng": -103.3804217
            },
            {
              "lat": 20.655722,
              "lng": -103.3803847
            },
            {
              "lat": 20.6561666,
              "lng": -103.3803384
            },
            {
              "lat": 20.6567743,
              "lng": -103.3802837
            },
            {
              "lat": 20.657166,
              "lng": -103.3801883
            },
            {
              "lat": 20.6575877,
              "lng": -103.379856
            },
            {
              "lat": 20.6581362,
              "lng": -103.379583
            },
            {
              "lat": 20.6586567,
              "lng": -103.3793658
            },
            {
              "lat": 20.6584603,
              "lng": -103.3788458
            },
            {
              "lat": 20.6582797,
              "lng": -103.3783674
            },
            {
              "lat": 20.6581056,
              "lng": -103.3779061
            },
            {
              "lat": 20.6579324,
              "lng": -103.3774229
            },
            {
              "lat": 20.657755,
              "lng": -103.3769535
            },
            {
              "lat": 20.6575741,
              "lng": -103.3764685
            },
            {
              "lat": 20.6572136,
              "lng": -103.3755077
            },
            {
              "lat": 20.6568586,
              "lng": -103.374559
            },
            {
              "lat": 20.6577828,
              "lng": -103.3741698
            },
            {
              "lat": 20.6586742,
              "lng": -103.373782
            }
          ]
        }
      ],
      "cost_breakdown": {
        "distancia": 326.1,
        "seguro": 560.68,
        "electronico": 1304.8
      },
      "raw_t": {
        "(0,7)": 1.0,
        "(13,14)": 1.0,
        "(17,19)": 1.0,
        "(18,9)": 1.0,
        "(2,11)": 1.0,
        "(3,6)": 1.0
      },
      "raw_x": {
        "(0,7)": 66459.912,
        "(13,14)": 46409.503,
        "(17,19)": 3160.179,
        "(18,9)": 41903.894,
        "(2,11)": 26401.772,
        "(3,6)": 2559.241
      },
      "raw_y": {
        "0": 295955.59,
        "1": 222199.73,
        "10": 6417.159,
        "11": 2489.562,
        "12": 9617.271,
        "13": 92691.817,
        "14": 38004.213,
        "15": 108801.43,
        "16": 13431.672,
        "17": 65864.361,
        "18": 13133.937,
        "19": 7175.709,
        "2": 244138.88,
        "20": 7356.447,
        "3": 20869.926,
        "4": 88530.55,
        "5": 47581.06,
        "6": 8556.111,
        "7": 5656.752,
        "8": 4743.783,
        "9": 1585.974
      },
      "gemini_insight": "<h4>AI-Powered Insights for Tuesday</h4><h5>Cost Analysis:</h5><p>Optimized daily cost: <b>$30,684.62</b>. This is <b>11.5% lower</b> than the recent average of $34,662.62, indicating improved efficiency.</p><h5>Route & Cash Flow Efficiency:</h5><p>A total of <b>6</b> trips were made, redistributing <b>$186,894.50</b>.<br>The key transfer was <b>$66,459.91</b> from <b>JUAREZ</b> to <b>JUAREZ UNIVERSIDAD</b>.</p><h5>Estimated Savings Breakdown:</h5><p>By optimizing, an estimated <b>$29,150.39</b> was saved.</p><ul><li>Projected unoptimized cost: <b>$59,835.01</b></li><li>Actual optimized cost: <b>$30,684.62</b></li><li><b>Estimated Net Savings: $29,150.39</b></li></ul><p>This represents a <b>95.0% return</b> on logistics spending.</p><p style='font-size:0.85em; color: #444; margin-top:15px;'><i><b>Note:</b> Savings are logistics efficiencies.</i></p>"
    },
    "Wednesday": {
      "day": "Wednesday",
      "status": "Optimal",
      "variableCost": 30448.53,
      "totalTrips": 4,
      "cashRedistributed": 169965.15,
      "routes": [
        {
          "from": "JUAREZ",
          "to": "JUAREZ UNIVERSIDAD",
          "amount": 84126.52,
          "trips": 1,
          "path": [
            {
              "lat": 20.6750952,
              "lng": -103.3488641
            }
          ]
        },
        {
          "from": "JUAN PABLO II",
          "to": "SAN ONOFRE",
          "amount": 38974.78,
          "trips": 1,
          "path": [
            {
              "lat": 20.7057467,
              "lng": -103.2861214
            },
            {
              "lat": 20.7050984,
              "lng": -103.286449
            },
            {
              "lat": 20.7039739,
              "lng": -103.2868988
            },
            {
              "lat": 20.7037536,
              "lng": -103.286952
            },
            {
              "lat": 20.7037441,
              "lng": -103.2869743
            },
            {
              "lat": 20.70293,
              "lng": -103.2888903
            },
            {
              "lat": 20.7023833,
              "lng": -103.2902596
            },
            {
              "lat": 20.7018266,
              "lng": -103.291698
            },
            {
              "lat": 20.701242,
              "lng": -103.2931556
            },
            {
              "lat": 20.7004914,
              "lng": -103.2950313
            },
            {
              "lat": 20.7001202,
              "lng": -103.2949797
            },
            {
              "lat": 20.699714,
              "lng": -103.2949298
            },
            {
              "lat": 20.6993844,
              "lng": -103.2948804
            },
            {
              "lat": 20.6990557,
              "lng": -103.2948372
            },
            {
              "lat": 20.6986368,
              "lng": -103.2947796
            },
            {
              "lat": 20.6983451,
              "lng": -103.2948456
            },
            {
              "lat": 20.6981852,
              "lng": -103.2947816
            },
            {
              "lat": 20.697991,
              "lng": -103.2943602
            },
            {
              "lat": 20.697735,
              "lng": -103.2943604
            },
            {
              "lat": 20.6975055,
              "lng": -103.2950336
            },
            {
              "lat": 20.6967902,
              "lng": -103.2967995
            }
          ]
        },
        {
          "from": "8 DE julio",
          "to": "BODEGA DE LIQUIDACIO",
          "amount": 35484.26,
          "trips": 1,
          "path": [
            {
              "lat": 20.6262655,
              "lng": -103.3719988
            },
            {
              "lat": 20.6265931,
              "lng": -103.3718576
            },
            {
              "lat": 20.6264096,
              "lng": -103.3713799
            },
            {
              "lat": 20.6262394,
              "lng": -103.3709267
            },
            {
              "lat": 20.6260123,
              "lng": -103.3702906
            },
            {
              "lat": 20.6275745,
              "lng": -103.3696267
            },
            {
              "lat": 20.6291352,
              "lng": -103.3689624
            },
            {
              "lat": 20.6288987,
              "lng": -103.3683367
            },
            {
              "lat": 20.628725,
              "lng": -103.3678769
            },
            {
              "lat": 20.628618,
              "lng": -103.3674916
            },
            {
              "lat": 20.6284691,
              "lng": -103.3664116
            },
            {
              "lat": 20.6283378,
              "lng": -103.3655588
            },
            {
              "lat": 20.6281659,
              "lng": -103.3644362
            },
            {
              "lat": 20.6280769,
              "lng": -103.3638654
            },
            {
              "lat": 20.6279978,
              "lng": -103.3633559
            },
            {
              "lat": 20.6279147,
              "lng": -103.362849
            },
            {
              "lat": 20.6278403,
              "lng": -103.3624197
            },
            {
              "lat": 20.6275883,
              "lng": -103.3609062
            },
            {
              "lat": 20.6275687,
              "lng": -103.3608016
            },
            {
              "lat": 20.6287389,
              "lng": -103.3603111
            },
            {
              "lat": 20.6288854,
              "lng": -103.3602474
            },
            {
              "lat": 20.6283569,
              "lng": -103.3575542
            },
            {
              "lat": 20.6281936,
              "lng": -103.3567628
            },
            {
              "lat": 20.6281162,
              "lng": -103.3563465
            },
            {
              "lat": 20.6281,
              "lng": -103.3562589
            },
            {
              "lat": 20.628049,
              "lng": -103.3559129
            },
            {
              "lat": 20.6280316,
              "lng": -103.3557946
            },
            {
              "lat": 20.6279676,
              "lng": -103.3554018
            },
            {
              "lat": 20.6278591,
              "lng": -103.3545923
            },
            {
              "lat": 20.6277494,
              "lng": -103.3537747
            },
            {
              "lat": 20.6277056,
              "lng": -103.3534474
            },
            {
              "lat": 20.627668,
              "lng": -103.3531676
            },
            {
              "lat": 20.6276348,
              "lng": -103.3529197
            },
            {
              "lat": 20.6276069,
              "lng": -103.3527113
            },
            {
              "lat": 20.6275953,
              "lng": -103.3526249
            },
            {
              "lat": 20.6275663,
              "lng": -103.3523739
            },
            {
              "lat": 20.6281347,
              "lng": -103.3520104
            },
            {
              "lat": 20.6280955,
              "lng": -103.3518934
            },
            {
              "lat": 20.6288923,
              "lng": -103.3515553
            },
            {
              "lat": 20.6291848,
              "lng": -103.3514312
            },
            {
              "lat": 20.6287155,
              "lng": -103.350174
            },
            {
              "lat": 20.6282715,
              "lng": -103.3487571
            },
            {
              "lat": 20.6282735,
              "lng": -103.3487169
            },
            {
              "lat": 20.6282798,
              "lng": -103.3486436
            },
            {
              "lat": 20.6282869,
              "lng": -103.3485938
            },
            {
              "lat": 20.6285463,
              "lng": -103.3479633
            },
            {
              "lat": 20.6289479,
              "lng": -103.3473706
            },
            {
              "lat": 20.6292471,
              "lng": -103.3447653
            },
            {
              "lat": 20.6287396,
              "lng": -103.3446928
            },
            {
              "lat": 20.6282307,
              "lng": -103.3446202
            }
          ]
        },
        {
          "from": "INDEPENDENCIA",
          "to": "MESA DEL NORTE",
          "amount": 11379.59,
          "trips": 1,
          "path": [
            {
              "lat": 20.7211625,
              "lng": -103.3201344
            },
            {
              "lat": 20.7186913,
              "lng": -103.3206834
            },
            {
              "lat": 20.7174246,
              "lng": -103.3211128
            },
            {
              "lat": 20.7172744,
              "lng": -103.3212933
            },
            {
              "lat": 20.7170325,
              "lng": -103.321397
            },
            {
              "lat": 20.7168997,
              "lng": -103.3214283
            },
            {
              "lat": 20.716618,
              "lng": -103.3203961
            },
            {
              "lat": 20.7164016,
              "lng": -103.3196785
            },
            {
              "lat": 20.7163727,
              "lng": -103.3196187
            },
            {
              "lat": 20.7163305,
              "lng": -103.319532
            },
            {
              "lat": 20.7163111,
              "lng": -103.3194892
            },
            {
              "lat": 20.7161484,
              "lng": -103.3184593
            },
            {
              "lat": 20.7160553,
              "lng": -103.3175094
            },
            {
              "lat": 20.7159811,
              "lng": -103.3167486
            },
            {
              "lat": 20.7159149,
              "lng": -103.3160701
            },
            {
              "lat": 20.7132782,
              "lng": -103.3164389
            },
            {
              "lat": 20.7129602,
              "lng": -103.3165227
            },
            {
              "lat": 20.7126823,
              "lng": -103.3166032
            },
            {
              "lat": 20.7124436,
              "lng": -103.3158402
            },
            {
              "lat": 20.7122421,
              "lng": -103.3151746
            },
            {
              "lat": 20.7120722,
              "lng": -103.3151193
            },
            {
              "lat": 20.7110927,
              "lng": -103.3154654
            },
            {
              "lat": 20.709964,
              "lng": -103.3158629
            },
            {
              "lat": 20.7088631,
              "lng": -103.316259
            },
            {
              "lat": 20.7077512,
              "lng": -103.316659
            },
            {
              "lat": 20.706634,
              "lng": -103.317062
            },
            {
              "lat": 20.7064656,
              "lng": -103.3165002
            },
            {
              "lat": 20.7064052,
              "lng": -103.3162989
            },
            {
              "lat": 20.7063405,
              "lng": -103.3160762
            },
            {
              "lat": 20.7049941,
              "lng": -103.3166813
            }
          ]
        }
      ],
      "cost_breakdown": {
        "distancia": 218.85,
        "seguro": 509.9,
        "electronico": 1327.34
      },
      "raw_t": {
        "(0,7)": 1.0,
        "(13,14)": 1.0,
        "(18,9)": 1.0,
        "(2,11)": 1.0
      },
      "raw_x": {
        "(0,7)": 84126.516,
        "(13,14)": 35484.259,
        "(18,9)": 38974.784,
        "(2,11)": 11379.586
      },
      "raw_y": {
        "0": 245042.73,
        "1": 257412.85,
        "10": 6603.201,
        "11": 3186.549,
        "12": 9920.499,
        "13": 65580.771,
        "14": 37216.689,
        "15": 143444.3,
        "16": 13575.894,
        "17": 14184.02,
        "18": 14189.853,
        "19": 5953.353,
        "2": 331705.15,
        "20": 9383.157,
        "3": 48054.74,
        "4": 49750.11,
        "5": 54085.53,
        "6": 8080.143,
        "7": 4297.779,
        "8": 3839.088,
        "9": 1835.064
      },
      "gemini_insight": "<h4>AI-Powered Insights for Wednesday</h4><h5>Cost Analysis:</h5><p>Optimized daily cost: <b>$30,448.53</b>. This is <b>6.8% lower</b> than the recent average of $32,673.62, indicating improved efficiency.</p><h5>Route & Cash Flow Efficiency:</h5><p>A total of <b>4</b> trips were made, redistributing <b>$169,965.15</b>.<br>The key transfer was <b>$84,126.52</b> from <b>JUAREZ</b> to <b>JUAREZ UNIVERSIDAD</b>.</p><h5>Estimated Savings Breakdown:</h5><p>By optimizing, an estimated <b>$28,926.10</b> was saved.</p><ul><li>Projected unoptimized cost: <b>$59,374.63</b></li><li>Actual optimized cost: <b>$30,448.53</b></li><li><b>Estimated Net Savings: $28,926.10</b></li></ul><p>This represents a <b>95.0% return</b> on logistics spending.</p><p style='font-size:0.85em; color: #444; margin-top:15px;'><i><b>Note:</b> Savings are logistics efficiencies.</i></p>"
    },
    "Thursday": {
      "day": "Thursday",
      "status": "Optimal",
      "variableCost": 29294.83,
      "totalTrips": 6,
      "cashRedistributed": 259558.05,
      "routes": [
        {
          "from": "JUAREZ",
          "to": "JUAREZ UNIVERSIDAD",
          "amount": 93878.08,
          "trips": 1,
          "path": [
            {
              "lat": 20.6750952,
              "lng": -103.3488641
            }
          ]
        },
        {
          "from": "8 DE julio",
          "to": "BODEGA DE LIQUIDACIO",
          "amount": 71306.65,
          "trips": 1,
          "path": [
            {
              "lat": 20.6262655,
              "lng": -103.3719988
            },
            {
              "lat": 20.6265931,
              "lng": -103.3718576
            },
            {
              "lat": 20.6264096,
              "lng": -103.3713799
            },
            {
              "lat": 20.6262394,
              "lng": -103.3709267
            },
            {
              "lat": 20.6260123,
              "lng": -103.3702906
            },
            {
              "lat": 20.6275745,
              "lng": -103.3696267
            },
            {
              "lat": 20.6291352,
              "lng": -103.3689624
            },
            {
              "lat": 20.6288987,
              "lng": -103.3683367
            },
            {
              "lat": 20.628725,
              "lng": -103.3678769
            },
            {
              "lat": 20.628618,
              "lng": -103.3674916
            },
            {
              "lat": 20.6284691,
              "lng": -103.3664116
            },
            {
              "lat": 20.6283378,
              "lng": -103.3655588
            },
            {
              "lat": 20.6281659,
              "lng": -103.3644362
            },
            {
              "lat": 20.6280769,
              "lng": -103.3638654
            },
            {
              "lat": 20.6279978,
              "lng": -103.3633559
            },
            {
              "lat": 20.6279147,
              "lng": -103.362849
            },
            {
              "lat": 20.6278403,
              "lng": -103.3624197
            },
            {
              "lat": 20.6275883,
              "lng": -103.3609062
            },
            {
              "lat": 20.6275687,
              "lng": -103.3608016
            },
            {
              "lat": 20.6287389,
              "lng": -103.3603111
            },
            {
              "lat": 20.6288854,
              "lng": -103.3602474
            },
            {
              "lat": 20.6283569,
              "lng": -103.3575542
            },
            {
              "lat": 20.6281936,
              "lng": -103.3567628
            },
            {
              "lat": 20.6281162,
              "lng": -103.3563465
            },
            {
              "lat": 20.6281,
              "lng": -103.3562589
            },
            {
              "lat": 20.628049,
              "lng": -103.3559129
            },
            {
              "lat": 20.6280316,
              "lng": -103.3557946
            },
            {
              "lat": 20.6279676,
              "lng": -103.3554018
            },
            {
              "lat": 20.6278591,
              "lng": -103.3545923
            },
            {
              "lat": 20.6277494,
              "lng": -103.3537747
            },
            {
              "lat": 20.6277056,
              "lng": -103.3534474
            },
            {
              "lat": 20.627668,
              "lng": -103.3531676
            },
            {
              "lat": 20.6276348,
              "lng": -103.3529197
            },
            {
              "lat": 20.6276069,
              "lng": -103.3527113
            },
            {
              "lat": 20.6275953,
              "lng": -103.3526249
            },
            {
              "lat": 20.6275663,
              "lng": -103.3523739
            },
            {
              "lat": 20.6281347,
              "lng": -103.3520104
            },
            {
              "lat": 20.6280955,
              "lng": -103.3518934
            },
            {
              "lat": 20.6288923,
              "lng": -103.3515553
            },
            {
              "lat": 20.6291848,
              "lng": -103.3514312
            },
            {
              "lat": 20.6287155,
              "lng": -103.350174
            },
            {
              "lat": 20.6282715,
              "lng": -103.3487571
            },
            {
              "lat": 20.6282735,
              "lng": -103.3487169
            },
            {
              "lat": 20.6282798,
              "lng": -103.3486436
            },
            {
              "lat": 20.6282869,
              "lng": -103.3485938
            },
            {
              "lat": 20.6285463,
              "lng": -103.3479633
            },
            {
              "lat": 20.6289479,
              "lng": -103.3473706
            },
            {
              "lat": 20.6292471,
              "lng": -103.3447653
            },
            {
              "lat": 20.6287396,
              "lng": -103.3446928
            },
            {
              "lat": 20.6282307,
              "lng": -103.3446202
            }
          ]
        },
        {
          "from": "GRAN TERRAZA OBLA",
          "to": "SAN ONOFRE",
          "amount": 38414.56,
          "trips": 1,
          "path": [
            {
              "lat": 20.6880969,
              "lng": -103.2973179
            },
            {
              "lat": 20.688535,
              "lng": -103.2971685
            },
            {
              "lat": 20.6889656,
              "lng": -103.2970217
            },
            {
              "lat": 20.6891644,
              "lng": -103.2969539
            },
            {
              "lat": 20.6903998,
              "lng": -103.2965295
            },
            {
              "lat": 20.6903376,
              "lng": -103.2962678
            },
            {
              "lat": 20.691228,
              "lng": -103.2962577
            },
            {
              "lat": 20.6929561,
              "lng": -103.2962718
            },
            {
              "lat": 20.6941337,
              "lng": -103.2962676
            },
            {
              "lat": 20.6947357,
              "lng": -103.2962682
            },
            {
              "lat": 20.6958581,
              "lng": -103.2963899
            },
            {
              "lat": 20.6963216,
              "lng": -103.2965936
            },
            {
              "lat": 20.6967902,
              "lng": -103.2967995
            }
          ]
        },
        {
          "from": "INDEPENDENCIA",
          "to": "MESA DEL NORTE",
          "amount": 26187.45,
          "trips": 1,
          "path": [
            {
              "lat": 20.7211625,
              "lng": -103.3201344
            },
            {
              "lat": 20.7186913,
              "lng": -103.3206834
            },
            {
              "lat": 20.7174246,
              "lng": -103.3211128
            },
            {
              "lat": 20.7172744,
              "lng": -103.3212933
            },
            {
              "lat": 20.7170325,
              "lng": -103.321397
            },
            {
              "lat": 20.7168997,
              "lng": -103.3214283
            },
            {
              "lat": 20.716618,
              "lng": -103.3203961
            },
            {
              "lat": 20.7164016,
              "lng": -103.3196785
            },
            {
              "lat": 20.7163727,
              "lng": -103.3196187
            },
            {
              "lat": 20.7163305,
              "lng": -103.319532
            },
            {
              "lat": 20.7163111,
              "lng": -103.3194892
            },
            {
              "lat": 20.7161484,
              "lng": -103.3184593
            },
            {
              "lat": 20.7160553,
              "lng": -103.3175094
            },
            {
              "lat": 20.7159811,
              "lng": -103.3167486
            },
            {
              "lat": 20.7159149,
              "lng": -103.3160701
            },
            {
              "lat": 20.7132782,
              "lng": -103.3164389
            },
            {
              "lat": 20.7129602,
              "lng": -103.3165227
            },
            {
              "lat": 20.7126823,
              "lng": -103.3166032
            },
            {
              "lat": 20.7124436,
              "lng": -103.3158402
            },
            {
              "lat": 20.7122421,
              "lng": -103.3151746
            },
            {
              "lat": 20.7120722,
              "lng": -103.3151193
            },
            {
              "lat": 20.7110927,
              "lng": -103.3154654
            },
            {
              "lat": 20.709964,
              "lng": -103.3158629
            },
            {
              "lat": 20.7088631,
              "lng": -103.316259
            },
            {
              "lat": 20.7077512,
              "lng": -103.316659
            },
            {
              "lat": 20.706634,
              "lng": -103.317062
            },
            {
              "lat": 20.7064656,
              "lng": -103.3165002
            },
            {
              "lat": 20.7064052,
              "lng": -103.3162989
            },
            {
              "lat": 20.7063405,
              "lng": -103.3160762
            },
            {
              "lat": 20.7049941,
              "lng": -103.3166813
            }
          ]
        },
        {
          "from": "TETLAN",
          "to": "RIO NILO",
          "amount": 24186.2,
          "trips": 1,
          "path": [
            {
              "lat": 20.6599112,
              "lng": -103.2769617
            },
            {
              "lat": 20.6600464,
              "lng": -103.2776073
            },
            {
              "lat": 20.6599251,
              "lng": -103.2776527
            },
            {
              "lat": 20.6591138,
              "lng": -103.2777341
            },
            {
              "lat": 20.6579318,
              "lng": -103.2778747
            },
            {
              "lat": 20.6574624,
              "lng": -103.2779446
            },
            {
              "lat": 20.6569613,
              "lng": -103.2780196
            },
            {
              "lat": 20.6568979,
              "lng": -103.2780286
            },
            {
              "lat": 20.6564739,
              "lng": -103.2780961
            },
            {
              "lat": 20.6560068,
              "lng": -103.2781724
            },
            {
              "lat": 20.6555614,
              "lng": -103.2782433
            },
            {
              "lat": 20.6554524,
              "lng": -103.2782642
            },
            {
              "lat": 20.6551327,
              "lng": -103.2783146
            },
            {
              "lat": 20.6548828,
              "lng": -103.2783573
            },
            {
              "lat": 20.6547091,
              "lng": -103.2783848
            },
            {
              "lat": 20.6543283,
              "lng": -103.2784455
            },
            {
              "lat": 20.6543704,
              "lng": -103.2789664
            },
            {
              "lat": 20.6544081,
              "lng": -103.2794321
            },
            {
              "lat": 20.654447,
              "lng": -103.279913
            },
            {
              "lat": 20.6544868,
              "lng": -103.2804054
            },
            {
              "lat": 20.6545612,
              "lng": -103.2813247
            },
            {
              "lat": 20.6540521,
              "lng": -103.2814003
            },
            {
              "lat": 20.6532922,
              "lng": -103.2815538
            },
            {
              "lat": 20.6527583,
              "lng": -103.2816616
            },
            {
              "lat": 20.6522483,
              "lng": -103.2817646
            },
            {
              "lat": 20.6517256,
              "lng": -103.2818701
            }
          ]
        },
        {
          "from": "ARBOLEDAS",
          "to": "EL FRESNO",
          "amount": 5585.1,
          "trips": 1,
          "path": [
            {
              "lat": 20.647129,
              "lng": -103.3872316
            },
            {
              "lat": 20.6469948,
              "lng": -103.3872588
            },
            {
              "lat": 20.646476,
              "lng": -103.3873602
            },
            {
              "lat": 20.6464449,
              "lng": -103.3871896
            },
            {
              "lat": 20.6502395,
              "lng": -103.3864184
            },
            {
              "lat": 20.651395,
              "lng": -103.3863145
            },
            {
              "lat": 20.6514148,
              "lng": -103.385688
            },
            {
              "lat": 20.6516762,
              "lng": -103.384656
            },
            {
              "lat": 20.6518033,
              "lng": -103.3844566
            },
            {
              "lat": 20.6519897,
              "lng": -103.3834498
            },
            {
              "lat": 20.6521672,
              "lng": -103.3824825
            },
            {
              "lat": 20.6525772,
              "lng": -103.3807591
            },
            {
              "lat": 20.6526463,
              "lng": -103.3805969
            },
            {
              "lat": 20.6533621,
              "lng": -103.3805868
            },
            {
              "lat": 20.6541783,
              "lng": -103.3805137
            },
            {
              "lat": 20.6542641,
              "lng": -103.3805067
            },
            {
              "lat": 20.6547772,
              "lng": -103.3804633
            },
            {
              "lat": 20.6552144,
              "lng": -103.3804217
            },
            {
              "lat": 20.655722,
              "lng": -103.3803847
            },
            {
              "lat": 20.6561666,
              "lng": -103.3803384
            },
            {
              "lat": 20.6567743,
              "lng": -103.3802837
            },
            {
              "lat": 20.657166,
              "lng": -103.3801883
            },
            {
              "lat": 20.6575877,
              "lng": -103.379856
            },
            {
              "lat": 20.6581362,
              "lng": -103.379583
            },
            {
              "lat": 20.6586567,
              "lng": -103.3793658
            },
            {
              "lat": 20.6584603,
              "lng": -103.3788458
            },
            {
              "lat": 20.6582797,
              "lng": -103.3783674
            },
            {
              "lat": 20.6581056,
              "lng": -103.3779061
            },
            {
              "lat": 20.6579324,
              "lng": -103.3774229
            },
            {
              "lat": 20.657755,
              "lng": -103.3769535
            },
            {
              "lat": 20.6575741,
              "lng": -103.3764685
            },
            {
              "lat": 20.6572136,
              "lng": -103.3755077
            },
            {
              "lat": 20.6568586,
              "lng": -103.374559
            },
            {
              "lat": 20.6577828,
              "lng": -103.3741698
            },
            {
              "lat": 20.6586742,
              "lng": -103.373782
            }
          ]
        }
      ],
      "cost_breakdown": {
        "distancia": 303.12,
        "seguro": 778.67,
        "electronico": 1183.74
      },
      "raw_t": {
        "(0,7)": 1.0,
        "(13,14)": 1.0,
        "(17,19)": 1.0,
        "(20,9)": 1.0,
        "(2,11)": 1.0,
        "(3,6)": 1.0
      },
      "raw_x": {
        "(0,7)": 93878.08,
        "(13,14)": 71306.655,
        "(17,19)": 24186.201,
        "(20,9)": 38414.563,
        "(2,11)": 26187.454,
        "(3,6)": 5585.099
      },
      "raw_y": {
        "0": 319210.69,
        "1": 223401.35,
        "10": 6236.967,
        "11": 2563.377,
        "12": 8148.381,
        "13": 54851.945,
        "14": 25233.762,
        "15": 93796.59,
        "16": 11440.695,
        "17": 13628.358,
        "18": 24832.107,
        "19": 6014.721,
        "2": 255157.38,
        "20": 11094.174,
        "3": 18840.981,
        "4": 72127.99,
        "5": 16292.97,
        "6": 9678.129,
        "7": 5613.48,
        "8": 4647.834,
        "9": 930.273
      },
      "gemini_insight": "<h4>AI-Powered Insights for Thursday</h4><h5>Cost Analysis:</h5><p>Optimized daily cost: <b>$29,294.83</b>. This is in line with the recent average of $30,566.57.</p><h5>Route & Cash Flow Efficiency:</h5><p>A total of <b>6</b> trips were made, redistributing <b>$259,558.05</b>.<br>The key transfer was <b>$93,878.08</b> from <b>JUAREZ</b> to <b>JUAREZ UNIVERSIDAD</b>.</p><h5>Estimated Savings Breakdown:</h5><p>By optimizing, an estimated <b>$27,830.09</b> was saved.</p><ul><li>Projected unoptimized cost: <b>$57,124.92</b></li><li>Actual optimized cost: <b>$29,294.83</b></li><li><b>Estimated Net Savings: $27,830.09</b></li></ul><p>This represents a <b>95.0% return</b> on logistics spending.</p><p style='font-size:0.85em; color: #444; margin-top:15px;'><i><b>Note:</b> Savings are logistics efficiencies.</i></p>"
    },
    "Friday": {
      "day": "Friday",
      "status": "Optimal",
      "variableCost": 30066.53,
      "totalTrips": 7,
      "cashRedistributed": 259169.33,
      "routes": [
        {
          "from": "JUAREZ",
          "to": "JUAREZ UNIVERSIDAD",
          "amount": 79537.72,
          "trips": 1,
          "path": [
            {
              "lat": 20.6750952,
              "lng": -103.3488641
            }
          ]
        },
        {
          "from": "8 DE julio",
          "to": "BODEGA DE LIQUIDACIO",
          "amount": 60035.11,
          "trips": 1,
          "path": [
            {
              "lat": 20.6262655,
              "lng": -103.3719988
            },
            {
              "lat": 20.6265931,
              "lng": -103.3718576
            },
            {
              "lat": 20.6264096,
              "lng": -103.3713799
            },
            {
              "lat": 20.6262394,
              "lng": -103.3709267
            },
            {
              "lat": 20.6260123,
              "lng": -103.3702906
            },
            {
              "lat": 20.6275745,
              "lng": -103.3696267
            },
            {
              "lat": 20.6291352,
              "lng": -103.3689624
            },
            {
              "lat": 20.6288987,
              "lng": -103.3683367
            },
            {
              "lat": 20.628725,
              "lng": -103.3678769
            },
            {
              "lat": 20.628618,
              "lng": -103.3674916
            },
            {
              "lat": 20.6284691,
              "lng": -103.3664116
            },
            {
              "lat": 20.6283378,
              "lng": -103.3655588
            },
            {
              "lat": 20.6281659,
              "lng": -103.3644362
            },
            {
              "lat": 20.6280769,
              "lng": -103.3638654
            },
            {
              "lat": 20.6279978,
              "lng": -103.3633559
            },
            {
              "lat": 20.6279147,
              "lng": -103.362849
            },
            {
              "lat": 20.6278403,
              "lng": -103.3624197
            },
            {
              "lat": 20.6275883,
              "lng": -103.3609062
            },
            {
              "lat": 20.6275687,
              "lng": -103.3608016
            },
            {
              "lat": 20.6287389,
              "lng": -103.3603111
            },
            {
              "lat": 20.6288854,
              "lng": -103.3602474
            },
            {
              "lat": 20.6283569,
              "lng": -103.3575542
            },
            {
              "lat": 20.6281936,
              "lng": -103.3567628
            },
            {
              "lat": 20.6281162,
              "lng": -103.3563465
            },
            {
              "lat": 20.6281,
              "lng": -103.3562589
            },
            {
              "lat": 20.628049,
              "lng": -103.3559129
            },
            {
              "lat": 20.6280316,
              "lng": -103.3557946
            },
            {
              "lat": 20.6279676,
              "lng": -103.3554018
            },
            {
              "lat": 20.6278591,
              "lng": -103.3545923
            },
            {
              "lat": 20.6277494,
              "lng": -103.3537747
            },
            {
              "lat": 20.6277056,
              "lng": -103.3534474
            },
            {
              "lat": 20.627668,
              "lng": -103.3531676
            },
            {
              "lat": 20.6276348,
              "lng": -103.3529197
            },
            {
              "lat": 20.6276069,
              "lng": -103.3527113
            },
            {
              "lat": 20.6275953,
              "lng": -103.3526249
            },
            {
              "lat": 20.6275663,
              "lng": -103.3523739
            },
            {
              "lat": 20.6281347,
              "lng": -103.3520104
            },
            {
              "lat": 20.6280955,
              "lng": -103.3518934
            },
            {
              "lat": 20.6288923,
              "lng": -103.3515553
            },
            {
              "lat": 20.6291848,
              "lng": -103.3514312
            },
            {
              "lat": 20.6287155,
              "lng": -103.350174
            },
            {
              "lat": 20.6282715,
              "lng": -103.3487571
            },
            {
              "lat": 20.6282735,
              "lng": -103.3487169
            },
            {
              "lat": 20.6282798,
              "lng": -103.3486436
            },
            {
              "lat": 20.6282869,
              "lng": -103.3485938
            },
            {
              "lat": 20.6285463,
              "lng": -103.3479633
            },
            {
              "lat": 20.6289479,
              "lng": -103.3473706
            },
            {
              "lat": 20.6292471,
              "lng": -103.3447653
            },
            {
              "lat": 20.6287396,
              "lng": -103.3446928
            },
            {
              "lat": 20.6282307,
              "lng": -103.3446202
            }
          ]
        },
        {
          "from": "JOSE MARIA IGLESIAS",
          "to": "SAN ONOFRE",
          "amount": 42057.06,
          "trips": 1,
          "path": [
            {
              "lat": 20.6788233,
              "lng": -103.2912168
            },
            {
              "lat": 20.6789917,
              "lng": -103.291654
            },
            {
              "lat": 20.6794129,
              "lng": -103.2922291
            },
            {
              "lat": 20.6797141,
              "lng": -103.2924605
            },
            {
              "lat": 20.6799302,
              "lng": -103.2923759
            },
            {
              "lat": 20.6798857,
              "lng": -103.2920325
            },
            {
              "lat": 20.6799766,
              "lng": -103.2920189
            },
            {
              "lat": 20.6800358,
              "lng": -103.2924845
            },
            {
              "lat": 20.6800713,
              "lng": -103.2927348
            },
            {
              "lat": 20.6802031,
              "lng": -103.2936633
            },
            {
              "lat": 20.6802355,
              "lng": -103.2938716
            },
            {
              "lat": 20.6806043,
              "lng": -103.2943928
            },
            {
              "lat": 20.6822182,
              "lng": -103.2947781
            },
            {
              "lat": 20.6828508,
              "lng": -103.2948458
            },
            {
              "lat": 20.6839634,
              "lng": -103.2946753
            },
            {
              "lat": 20.6850945,
              "lng": -103.2945868
            },
            {
              "lat": 20.6855816,
              "lng": -103.2945305
            },
            {
              "lat": 20.6861288,
              "lng": -103.2944672
            },
            {
              "lat": 20.6864614,
              "lng": -103.2944276
            },
            {
              "lat": 20.6866813,
              "lng": -103.2944033
            },
            {
              "lat": 20.687206,
              "lng": -103.294356
            },
            {
              "lat": 20.6874698,
              "lng": -103.2943413
            },
            {
              "lat": 20.6885596,
              "lng": -103.2943322
            },
            {
              "lat": 20.6886467,
              "lng": -103.2943389
            },
            {
              "lat": 20.6892945,
              "lng": -103.2943366
            },
            {
              "lat": 20.6895116,
              "lng": -103.2943956
            },
            {
              "lat": 20.6898942,
              "lng": -103.2943822
            },
            {
              "lat": 20.6900507,
              "lng": -103.2950605
            },
            {
              "lat": 20.6901936,
              "lng": -103.2956619
            },
            {
              "lat": 20.6902813,
              "lng": -103.2960307
            },
            {
              "lat": 20.6903376,
              "lng": -103.2962678
            },
            {
              "lat": 20.691228,
              "lng": -103.2962577
            },
            {
              "lat": 20.6929561,
              "lng": -103.2962718
            },
            {
              "lat": 20.6941337,
              "lng": -103.2962676
            },
            {
              "lat": 20.6947357,
              "lng": -103.2962682
            },
            {
              "lat": 20.6958581,
              "lng": -103.2963899
            },
            {
              "lat": 20.6963216,
              "lng": -103.2965936
            },
            {
              "lat": 20.6967902,
              "lng": -103.2967995
            }
          ]
        },
        {
          "from": "INDEPENDENCIA",
          "to": "MESA DEL NORTE",
          "amount": 29787.99,
          "trips": 1,
          "path": [
            {
              "lat": 20.7211625,
              "lng": -103.3201344
            },
            {
              "lat": 20.7186913,
              "lng": -103.3206834
            },
            {
              "lat": 20.7174246,
              "lng": -103.3211128
            },
            {
              "lat": 20.7172744,
              "lng": -103.3212933
            },
            {
              "lat": 20.7170325,
              "lng": -103.321397
            },
            {
              "lat": 20.7168997,
              "lng": -103.3214283
            },
            {
              "lat": 20.716618,
              "lng": -103.3203961
            },
            {
              "lat": 20.7164016,
              "lng": -103.3196785
            },
            {
              "lat": 20.7163727,
              "lng": -103.3196187
            },
            {
              "lat": 20.7163305,
              "lng": -103.319532
            },
            {
              "lat": 20.7163111,
              "lng": -103.3194892
            },
            {
              "lat": 20.7161484,
              "lng": -103.3184593
            },
            {
              "lat": 20.7160553,
              "lng": -103.3175094
            },
            {
              "lat": 20.7159811,
              "lng": -103.3167486
            },
            {
              "lat": 20.7159149,
              "lng": -103.3160701
            },
            {
              "lat": 20.7132782,
              "lng": -103.3164389
            },
            {
              "lat": 20.7129602,
              "lng": -103.3165227
            },
            {
              "lat": 20.7126823,
              "lng": -103.3166032
            },
            {
              "lat": 20.7124436,
              "lng": -103.3158402
            },
            {
              "lat": 20.7122421,
              "lng": -103.3151746
            },
            {
              "lat": 20.7120722,
              "lng": -103.3151193
            },
            {
              "lat": 20.7110927,
              "lng": -103.3154654
            },
            {
              "lat": 20.709964,
              "lng": -103.3158629
            },
            {
              "lat": 20.7088631,
              "lng": -103.316259
            },
            {
              "lat": 20.7077512,
              "lng": -103.316659
            },
            {
              "lat": 20.706634,
              "lng": -103.317062
            },
            {
              "lat": 20.7064656,
              "lng": -103.3165002
            },
            {
              "lat": 20.7064052,
              "lng": -103.3162989
            },
            {
              "lat": 20.7063405,
              "lng": -103.3160762
            },
            {
              "lat": 20.7049941,
              "lng": -103.3166813
            }
          ]
        },
        {
          "from": "TETLAN",
          "to": "RIO NILO",
          "amount": 25667.45,
          "trips": 1,
          "path": [
            {
              "lat": 20.6599112,
              "lng": -103.2769617
            },
            {
              "lat": 20.6600464,
              "lng": -103.2776073
            },
            {
              "lat": 20.6599251,
              "lng": -103.2776527
            },
            {
              "lat": 20.6591138,
              "lng": -103.2777341
            },
            {
              "lat": 20.6579318,
              "lng": -103.2778747
            },
            {
              "lat": 20.6574624,
              "lng": -103.2779446
            },
            {
              "lat": 20.6569613,
              "lng": -103.2780196
            },
            {
              "lat": 20.6568979,
              "lng": -103.2780286
            },
            {
              "lat": 20.6564739,
              "lng": -103.2780961
            },
            {
              "lat": 20.6560068,
              "lng": -103.2781724
            },
            {
              "lat": 20.6555614,
              "lng": -103.2782433
            },
            {
              "lat": 20.6554524,
              "lng": -103.2782642
            },
            {
              "lat": 20.6551327,
              "lng": -103.2783146
            },
            {
              "lat": 20.6548828,
              "lng": -103.2783573
            },
            {
              "lat": 20.6547091,
              "lng": -103.2783848
            },
            {
              "lat": 20.6543283,
              "lng": -103.2784455
            },
            {
              "lat": 20.6543704,
              "lng": -103.2789664
            },
            {
              "lat": 20.6544081,
              "lng": -103.2794321
            },
            {
              "lat": 20.654447,
              "lng": -103.279913
            },
            {
              "lat": 20.6544868,
              "lng": -103.2804054
            },
            {
              "lat": 20.6545612,
              "lng": -103.2813247
            },
            {
              "lat": 20.6540521,
              "lng": -103.2814003
            },
            {
              "lat": 20.6532922,
              "lng": -103.2815538
            },
            {
              "lat": 20.6527583,
              "lng": -103.2816616
            },
            {
              "lat": 20.6522483,
              "lng": -103.2817646
            },
            {
              "lat": 20.6517256,
              "lng": -103.2818701
            }
          ]
        },
        {
          "from": "GRAN TERRAZA OBLA",
          "to": "SAN JUAN BOSCO",
          "amount": 13929.68,
          "trips": 1,
          "path": [
            {
              "lat": 20.6880969,
              "lng": -103.2973179
            },
            {
              "lat": 20.688535,
              "lng": -103.2971685
            },
            {
              "lat": 20.6889656,
              "lng": -103.2970217
            },
            {
              "lat": 20.6891644,
              "lng": -103.2969539
            },
            {
              "lat": 20.6892605,
              "lng": -103.2974339
            },
            {
              "lat": 20.6893551,
              "lng": -103.2979062
            },
            {
              "lat": 20.6895962,
              "lng": -103.2991109
            },
            {
              "lat": 20.6899156,
              "lng": -103.300697
            },
            {
              "lat": 20.690214,
              "lng": -103.3021958
            },
            {
              "lat": 20.6904852,
              "lng": -103.3038763
            },
            {
              "lat": 20.6904921,
              "lng": -103.3040129
            },
            {
              "lat": 20.6906136,
              "lng": -103.3047082
            },
            {
              "lat": 20.6907661,
              "lng": -103.3055028
            },
            {
              "lat": 20.6909122,
              "lng": -103.3063055
            },
            {
              "lat": 20.6910817,
              "lng": -103.3072034
            },
            {
              "lat": 20.6911579,
              "lng": -103.3073774
            },
            {
              "lat": 20.6912446,
              "lng": -103.3077956
            },
            {
              "lat": 20.6913524,
              "lng": -103.3083151
            },
            {
              "lat": 20.6915093,
              "lng": -103.3090717
            },
            {
              "lat": 20.6918215,
              "lng": -103.3105772
            },
            {
              "lat": 20.6918845,
              "lng": -103.3109612
            },
            {
              "lat": 20.6917995,
              "lng": -103.3112185
            },
            {
              "lat": 20.6917355,
              "lng": -103.3113673
            },
            {
              "lat": 20.6909279,
              "lng": -103.3133559
            },
            {
              "lat": 20.6908501,
              "lng": -103.3135651
            },
            {
              "lat": 20.690229,
              "lng": -103.3150875
            },
            {
              "lat": 20.6900893,
              "lng": -103.3150254
            },
            {
              "lat": 20.6895427,
              "lng": -103.3147833
            },
            {
              "lat": 20.6893407,
              "lng": -103.3147422
            },
            {
              "lat": 20.6889136,
              "lng": -103.3148019
            },
            {
              "lat": 20.68841,
              "lng": -103.3160605
            }
          ]
        },
        {
          "from": "ARBOLEDAS",
          "to": "EL FRESNO",
          "amount": 8154.31,
          "trips": 1,
          "path": [
            {
              "lat": 20.647129,
              "lng": -103.3872316
            },
            {
              "lat": 20.6469948,
              "lng": -103.3872588
            },
            {
              "lat": 20.646476,
              "lng": -103.3873602
            },
            {
              "lat": 20.6464449,
              "lng": -103.3871896
            },
            {
              "lat": 20.6502395,
              "lng": -103.3864184
            },
            {
              "lat": 20.651395,
              "lng": -103.3863145
            },
            {
              "lat": 20.6514148,
              "lng": -103.385688
            },
            {
              "lat": 20.6516762,
              "lng": -103.384656
            },
            {
              "lat": 20.6518033,
              "lng": -103.3844566
            },
            {
              "lat": 20.6519897,
              "lng": -103.3834498
            },
            {
              "lat": 20.6521672,
              "lng": -103.3824825
            },
            {
              "lat": 20.6525772,
              "lng": -103.3807591
            },
            {
              "lat": 20.6526463,
              "lng": -103.3805969
            },
            {
              "lat": 20.6533621,
              "lng": -103.3805868
            },
            {
              "lat": 20.6541783,
              "lng": -103.3805137
            },
            {
              "lat": 20.6542641,
              "lng": -103.3805067
            },
            {
              "lat": 20.6547772,
              "lng": -103.3804633
            },
            {
              "lat": 20.6552144,
              "lng": -103.3804217
            },
            {
              "lat": 20.655722,
              "lng": -103.3803847
            },
            {
              "lat": 20.6561666,
              "lng": -103.3803384
            },
            {
              "lat": 20.6567743,
              "lng": -103.3802837
            },
            {
              "lat": 20.657166,
              "lng": -103.3801883
            },
            {
              "lat": 20.6575877,
              "lng": -103.379856
            },
            {
              "lat": 20.6581362,
              "lng": -103.379583
            },
            {
              "lat": 20.6586567,
              "lng": -103.3793658
            },
            {
              "lat": 20.6584603,
              "lng": -103.3788458
            },
            {
              "lat": 20.6582797,
              "lng": -103.3783674
            },
            {
              "lat": 20.6581056,
              "lng": -103.3779061
            },
            {
              "lat": 20.6579324,
              "lng": -103.3774229
            },
            {
              "lat": 20.657755,
              "lng": -103.3769535
            },
            {
              "lat": 20.6575741,
              "lng": -103.3764685
            },
            {
              "lat": 20.6572136,
              "lng": -103.3755077
            },
            {
              "lat": 20.6568586,
              "lng": -103.374559
            },
            {
              "lat": 20.6577828,
              "lng": -103.3741698
            },
            {
              "lat": 20.6586742,
              "lng": -103.373782
            }
          ]
        }
      ],
      "cost_breakdown": {
        "distancia": 415.97,
        "seguro": 777.51,
        "electronico": 1246.66
      },
      "raw_t": {
        "(0,7)": 1.0,
        "(13,14)": 1.0,
        "(15,9)": 1.0,
        "(17,19)": 1.0,
        "(20,8)": 1.0,
        "(2,11)": 1.0,
        "(3,6)": 1.0
      },
      "raw_x": {
        "(0,7)": 79537.721,
        "(13,14)": 60035.112,
        "(15,9)": 42057.058,
        "(17,19)": 25667.453,
        "(20,8)": 13929.681,
        "(2,11)": 29787.993,
        "(3,6)": 8154.313
      },
      "raw_y": {
        "0": 348391.3,
        "1": 296366.72,
        "10": 6455.781,
        "11": 3321.153,
        "12": 48938.73,
        "13": 30082.348,
        "14": 29864.352,
        "15": 27654.927,
        "16": 11416.641,
        "17": 34441.647,
        "18": 20370.123,
        "19": 7252.206,
        "2": 243048.27,
        "20": 11965.338,
        "3": 26319.105,
        "4": 59542.3,
        "5": 18642.444,
        "6": 10802.223,
        "7": 5341.491,
        "8": 4781.751,
        "9": 1656.261
      },
      "gemini_insight": "<h4>AI-Powered Insights for Friday</h4><h5>Cost Analysis:</h5><p>Optimized daily cost: <b>$30,066.53</b>. This is in line with the recent average of $29,871.68.</p><h5>Route & Cash Flow Efficiency:</h5><p>A total of <b>7</b> trips were made, redistributing <b>$259,169.33</b>.<br>The key transfer was <b>$79,537.72</b> from <b>JUAREZ</b> to <b>JUAREZ UNIVERSIDAD</b>.</p><h5>Estimated Savings Breakdown:</h5><p>By optimizing, an estimated <b>$28,563.20</b> was saved.</p><ul><li>Projected unoptimized cost: <b>$58,629.73</b></li><li>Actual optimized cost: <b>$30,066.53</b></li><li><b>Estimated Net Savings: $28,563.20</b></li></ul><p>This represents a <b>95.0% return</b> on logistics spending.</p><p style='font-size:0.85em; color: #444; margin-top:15px;'><i><b>Note:</b> Savings are logistics efficiencies.</i></p>"
    },
    "Saturday": {
      "day": "Saturday",
      "status": "Optimal",
      "variableCost": 40761.34,
      "totalTrips": 4,
      "cashRedistributed": 87936.38,
      "routes": [
        {
          "from": "JUAREZ",
          "to": "JUAREZ UNIVERSIDAD",
          "amount": 50962.04,
          "trips": 1,
          "path": [
            {
              "lat": 20.6750952,
              "lng": -103.3488641
            }
          ]
        },
        {
          "from": "INDEPENDENCIA",
          "to": "MESA DEL NORTE",
          "amount": 15922.36,
          "trips": 1,
          "path": [
            {
              "lat": 20.7211625,
              "lng": -103.3201344
            },
            {
              "lat": 20.7186913,
              "lng": -103.3206834
            },
            {
              "lat": 20.7174246,
              "lng": -103.3211128
            },
            {
              "lat": 20.7172744,
              "lng": -103.3212933
            },
            {
              "lat": 20.7170325,
              "lng": -103.321397
            },
            {
              "lat": 20.7168997,
              "lng": -103.3214283
            },
            {
              "lat": 20.716618,
              "lng": -103.3203961
            },
            {
              "lat": 20.7164016,
              "lng": -103.3196785
            },
            {
              "lat": 20.7163727,
              "lng": -103.3196187
            },
            {
              "lat": 20.7163305,
              "lng": -103.319532
            },
            {
              "lat": 20.7163111,
              "lng": -103.3194892
            },
            {
              "lat": 20.7161484,
              "lng": -103.3184593
            },
            {
              "lat": 20.7160553,
              "lng": -103.3175094
            },
            {
              "lat": 20.7159811,
              "lng": -103.3167486
            },
            {
              "lat": 20.7159149,
              "lng": -103.3160701
            },
            {
              "lat": 20.7132782,
              "lng": -103.3164389
            },
            {
              "lat": 20.7129602,
              "lng": -103.3165227
            },
            {
              "lat": 20.7126823,
              "lng": -103.3166032
            },
            {
              "lat": 20.7124436,
              "lng": -103.3158402
            },
            {
              "lat": 20.7122421,
              "lng": -103.3151746
            },
            {
              "lat": 20.7120722,
              "lng": -103.3151193
            },
            {
              "lat": 20.7110927,
              "lng": -103.3154654
            },
            {
              "lat": 20.709964,
              "lng": -103.3158629
            },
            {
              "lat": 20.7088631,
              "lng": -103.316259
            },
            {
              "lat": 20.7077512,
              "lng": -103.316659
            },
            {
              "lat": 20.706634,
              "lng": -103.317062
            },
            {
              "lat": 20.7064656,
              "lng": -103.3165002
            },
            {
              "lat": 20.7064052,
              "lng": -103.3162989
            },
            {
              "lat": 20.7063405,
              "lng": -103.3160762
            },
            {
              "lat": 20.7049941,
              "lng": -103.3166813
            }
          ]
        },
        {
          "from": "8 DE julio",
          "to": "BODEGA DE LIQUIDACIO",
          "amount": 14733.98,
          "trips": 1,
          "path": [
            {
              "lat": 20.6262655,
              "lng": -103.3719988
            },
            {
              "lat": 20.6265931,
              "lng": -103.3718576
            },
            {
              "lat": 20.6264096,
              "lng": -103.3713799
            },
            {
              "lat": 20.6262394,
              "lng": -103.3709267
            },
            {
              "lat": 20.6260123,
              "lng": -103.3702906
            },
            {
              "lat": 20.6275745,
              "lng": -103.3696267
            },
            {
              "lat": 20.6291352,
              "lng": -103.3689624
            },
            {
              "lat": 20.6288987,
              "lng": -103.3683367
            },
            {
              "lat": 20.628725,
              "lng": -103.3678769
            },
            {
              "lat": 20.628618,
              "lng": -103.3674916
            },
            {
              "lat": 20.6284691,
              "lng": -103.3664116
            },
            {
              "lat": 20.6283378,
              "lng": -103.3655588
            },
            {
              "lat": 20.6281659,
              "lng": -103.3644362
            },
            {
              "lat": 20.6280769,
              "lng": -103.3638654
            },
            {
              "lat": 20.6279978,
              "lng": -103.3633559
            },
            {
              "lat": 20.6279147,
              "lng": -103.362849
            },
            {
              "lat": 20.6278403,
              "lng": -103.3624197
            },
            {
              "lat": 20.6275883,
              "lng": -103.3609062
            },
            {
              "lat": 20.6275687,
              "lng": -103.3608016
            },
            {
              "lat": 20.6287389,
              "lng": -103.3603111
            },
            {
              "lat": 20.6288854,
              "lng": -103.3602474
            },
            {
              "lat": 20.6283569,
              "lng": -103.3575542
            },
            {
              "lat": 20.6281936,
              "lng": -103.3567628
            },
            {
              "lat": 20.6281162,
              "lng": -103.3563465
            },
            {
              "lat": 20.6281,
              "lng": -103.3562589
            },
            {
              "lat": 20.628049,
              "lng": -103.3559129
            },
            {
              "lat": 20.6280316,
              "lng": -103.3557946
            },
            {
              "lat": 20.6279676,
              "lng": -103.3554018
            },
            {
              "lat": 20.6278591,
              "lng": -103.3545923
            },
            {
              "lat": 20.6277494,
              "lng": -103.3537747
            },
            {
              "lat": 20.6277056,
              "lng": -103.3534474
            },
            {
              "lat": 20.627668,
              "lng": -103.3531676
            },
            {
              "lat": 20.6276348,
              "lng": -103.3529197
            },
            {
              "lat": 20.6276069,
              "lng": -103.3527113
            },
            {
              "lat": 20.6275953,
              "lng": -103.3526249
            },
            {
              "lat": 20.6275663,
              "lng": -103.3523739
            },
            {
              "lat": 20.6281347,
              "lng": -103.3520104
            },
            {
              "lat": 20.6280955,
              "lng": -103.3518934
            },
            {
              "lat": 20.6288923,
              "lng": -103.3515553
            },
            {
              "lat": 20.6291848,
              "lng": -103.3514312
            },
            {
              "lat": 20.6287155,
              "lng": -103.350174
            },
            {
              "lat": 20.6282715,
              "lng": -103.3487571
            },
            {
              "lat": 20.6282735,
              "lng": -103.3487169
            },
            {
              "lat": 20.6282798,
              "lng": -103.3486436
            },
            {
              "lat": 20.6282869,
              "lng": -103.3485938
            },
            {
              "lat": 20.6285463,
              "lng": -103.3479633
            },
            {
              "lat": 20.6289479,
              "lng": -103.3473706
            },
            {
              "lat": 20.6292471,
              "lng": -103.3447653
            },
            {
              "lat": 20.6287396,
              "lng": -103.3446928
            },
            {
              "lat": 20.6282307,
              "lng": -103.3446202
            }
          ]
        },
        {
          "from": "GRAN TERRAZA OBLA",
          "to": "SAN ONOFRE",
          "amount": 6317.99,
          "trips": 1,
          "path": [
            {
              "lat": 20.6880969,
              "lng": -103.2973179
            },
            {
              "lat": 20.688535,
              "lng": -103.2971685
            },
            {
              "lat": 20.6889656,
              "lng": -103.2970217
            },
            {
              "lat": 20.6891644,
              "lng": -103.2969539
            },
            {
              "lat": 20.6903998,
              "lng": -103.2965295
            },
            {
              "lat": 20.6903376,
              "lng": -103.2962678
            },
            {
              "lat": 20.691228,
              "lng": -103.2962577
            },
            {
              "lat": 20.6929561,
              "lng": -103.2962718
            },
            {
              "lat": 20.6941337,
              "lng": -103.2962676
            },
            {
              "lat": 20.6947357,
              "lng": -103.2962682
            },
            {
              "lat": 20.6958581,
              "lng": -103.2963899
            },
            {
              "lat": 20.6963216,
              "lng": -103.2965936
            },
            {
              "lat": 20.6967902,
              "lng": -103.2967995
            }
          ]
        }
      ],
      "cost_breakdown": {
        "distancia": 195.88,
        "seguro": 263.81,
        "electronico": 2959.08
      },
      "raw_t": {
        "(0,7)": 1.0,
        "(13,14)": 1.0,
        "(20,9)": 1.0,
        "(2,11)": 1.0
      },
      "raw_x": {
        "(0,7)": 50962.045,
        "(13,14)": 14733.98,
        "(20,9)": 6317.991,
        "(2,11)": 15922.364
      },
      "raw_y": {
        "0": 708868.11,
        "1": 514245.29,
        "10": 10682.823,
        "11": 5076.594,
        "12": 122994.88,
        "13": 235853.29,
        "14": 40927.473,
        "15": 186776.27,
        "16": 23589.513,
        "17": 109474.46,
        "18": 111629.51,
        "19": 11697.108,
        "2": 405808.76,
        "20": 21063.573,
        "3": 57154.6,
        "4": 220753.31,
        "5": 136152.77,
        "6": 15313.221,
        "7": 13959.945,
        "8": 4762.596,
        "9": 2293.611
      },
      "gemini_insight": "<h4>AI-Powered Insights for Saturday</h4><h5>Cost Analysis:</h5><p>Optimized daily cost: <b>$40,761.34</b>. This is <b>37.3% higher</b> than the recent average of $29,680.68.</p><h5>Route & Cash Flow Efficiency:</h5><p>A total of <b>4</b> trips were made, redistributing <b>$87,936.38</b>.<br>The key transfer was <b>$50,962.04</b> from <b>JUAREZ</b> to <b>JUAREZ UNIVERSIDAD</b>.</p><h5>Estimated Savings Breakdown:</h5><p>By optimizing, an estimated <b>$38,723.27</b> was saved.</p><ul><li>Projected unoptimized cost: <b>$79,484.61</b></li><li>Actual optimized cost: <b>$40,761.34</b></li><li><b>Estimated Net Savings: $38,723.27</b></li></ul><p>This represents a <b>95.0% return</b> on logistics spending.</p><p style='font-size:0.85em; color: #444; margin-top:15px;'><i><b>Note:</b> Savings are logistics efficiencies.</i></p>"
    },
    "Sunday": {
      "day": "Sunday",
      "status": "Optimal",
      "variableCost": 31033.67,
      "totalTrips": 8,
      "cashRedistributed": 366183.17,
      "routes": [
        {
          "from": "JUAREZ",
          "to": "JUAREZ UNIVERSIDAD",
          "amount": 94789.9,
          "trips": 1,
          "path": [
            {
              "lat": 20.6750952,
              "lng": -103.3488641
            }
          ]
        },
        {
          "from": "INDEPENDENCIA",
          "to": "MESA DEL NORTE",
          "amount": 66821.78,
          "trips": 1,
          "path": [
            {
              "lat": 20.7211625,
              "lng": -103.3201344
            },
            {
              "lat": 20.7186913,
              "lng": -103.3206834
            },
            {
              "lat": 20.7174246,
              "lng": -103.3211128
            },
            {
              "lat": 20.7172744,
              "lng": -103.3212933
            },
            {
              "lat": 20.7170325,
              "lng": -103.321397
            },
            {
              "lat": 20.7168997,
              "lng": -103.3214283
            },
            {
              "lat": 20.716618,
              "lng": -103.3203961
            },
            {
              "lat": 20.7164016,
              "lng": -103.3196785
            },
            {
              "lat": 20.7163727,
              "lng": -103.3196187
            },
            {
              "lat": 20.7163305,
              "lng": -103.319532
            },
            {
              "lat": 20.7163111,
              "lng": -103.3194892
            },
            {
              "lat": 20.7161484,
              "lng": -103.3184593
            },
            {
              "lat": 20.7160553,
              "lng": -103.3175094
            },
            {
              "lat": 20.7159811,
              "lng": -103.3167486
            },
            {
              "lat": 20.7159149,
              "lng": -103.3160701
            },
            {
              "lat": 20.7132782,
              "lng": -103.3164389
            },
            {
              "lat": 20.7129602,
              "lng": -103.3165227
            },
            {
              "lat": 20.7126823,
              "lng": -103.3166032
            },
            {
              "lat": 20.7124436,
              "lng": -103.3158402
            },
            {
              "lat": 20.7122421,
              "lng": -103.3151746
            },
            {
              "lat": 20.7120722,
              "lng": -103.3151193
            },
            {
              "lat": 20.7110927,
              "lng": -103.3154654
            },
            {
              "lat": 20.709964,
              "lng": -103.3158629
            },
            {
              "lat": 20.7088631,
              "lng": -103.316259
            },
            {
              "lat": 20.7077512,
              "lng": -103.316659
            },
            {
              "lat": 20.706634,
              "lng": -103.317062
            },
            {
              "lat": 20.7064656,
              "lng": -103.3165002
            },
            {
              "lat": 20.7064052,
              "lng": -103.3162989
            },
            {
              "lat": 20.7063405,
              "lng": -103.3160762
            },
            {
              "lat": 20.7049941,
              "lng": -103.3166813
            }
          ]
        },
        {
          "from": "8 DE julio",
          "to": "BODEGA DE LIQUIDACIO",
          "amount": 47974.58,
          "trips": 1,
          "path": [
            {
              "lat": 20.6262655,
              "lng": -103.3719988
            },
            {
              "lat": 20.6265931,
              "lng": -103.3718576
            },
            {
              "lat": 20.6264096,
              "lng": -103.3713799
            },
            {
              "lat": 20.6262394,
              "lng": -103.3709267
            },
            {
              "lat": 20.6260123,
              "lng": -103.3702906
            },
            {
              "lat": 20.6275745,
              "lng": -103.3696267
            },
            {
              "lat": 20.6291352,
              "lng": -103.3689624
            },
            {
              "lat": 20.6288987,
              "lng": -103.3683367
            },
            {
              "lat": 20.628725,
              "lng": -103.3678769
            },
            {
              "lat": 20.628618,
              "lng": -103.3674916
            },
            {
              "lat": 20.6284691,
              "lng": -103.3664116
            },
            {
              "lat": 20.6283378,
              "lng": -103.3655588
            },
            {
              "lat": 20.6281659,
              "lng": -103.3644362
            },
            {
              "lat": 20.6280769,
              "lng": -103.3638654
            },
            {
              "lat": 20.6279978,
              "lng": -103.3633559
            },
            {
              "lat": 20.6279147,
              "lng": -103.362849
            },
            {
              "lat": 20.6278403,
              "lng": -103.3624197
            },
            {
              "lat": 20.6275883,
              "lng": -103.3609062
            },
            {
              "lat": 20.6275687,
              "lng": -103.3608016
            },
            {
              "lat": 20.6287389,
              "lng": -103.3603111
            },
            {
              "lat": 20.6288854,
              "lng": -103.3602474
            },
            {
              "lat": 20.6283569,
              "lng": -103.3575542
            },
            {
              "lat": 20.6281936,
              "lng": -103.3567628
            },
            {
              "lat": 20.6281162,
              "lng": -103.3563465
            },
            {
              "lat": 20.6281,
              "lng": -103.3562589
            },
            {
              "lat": 20.628049,
              "lng": -103.3559129
            },
            {
              "lat": 20.6280316,
              "lng": -103.3557946
            },
            {
              "lat": 20.6279676,
              "lng": -103.3554018
            },
            {
              "lat": 20.6278591,
              "lng": -103.3545923
            },
            {
              "lat": 20.6277494,
              "lng": -103.3537747
            },
            {
              "lat": 20.6277056,
              "lng": -103.3534474
            },
            {
              "lat": 20.627668,
              "lng": -103.3531676
            },
            {
              "lat": 20.6276348,
              "lng": -103.3529197
            },
            {
              "lat": 20.6276069,
              "lng": -103.3527113
            },
            {
              "lat": 20.6275953,
              "lng": -103.3526249
            },
            {
              "lat": 20.6275663,
              "lng": -103.3523739
            },
            {
              "lat": 20.6281347,
              "lng": -103.3520104
            },
            {
              "lat": 20.6280955,
              "lng": -103.3518934
            },
            {
              "lat": 20.6288923,
              "lng": -103.3515553
            },
            {
              "lat": 20.6291848,
              "lng": -103.3514312
            },
            {
              "lat": 20.6287155,
              "lng": -103.350174
            },
            {
              "lat": 20.6282715,
              "lng": -103.3487571
            },
            {
              "lat": 20.6282735,
              "lng": -103.3487169
            },
            {
              "lat": 20.6282798,
              "lng": -103.3486436
            },
            {
              "lat": 20.6282869,
              "lng": -103.3485938
            },
            {
              "lat": 20.6285463,
              "lng": -103.3479633
            },
            {
              "lat": 20.6289479,
              "lng": -103.3473706
            },
            {
              "lat": 20.6292471,
              "lng": -103.3447653
            },
            {
              "lat": 20.6287396,
              "lng": -103.3446928
            },
            {
              "lat": 20.6282307,
              "lng": -103.3446202
            }
          ]
        },
        {
          "from": "JUAN PABLO II",
          "to": "SAN ONOFRE",
          "amount": 46354.68,
          "trips": 1,
          "path": [
            {
              "lat": 20.7057467,
              "lng": -103.2861214
            },
            {
              "lat": 20.7050984,
              "lng": -103.286449
            },
            {
              "lat": 20.7039739,
              "lng": -103.2868988
            },
            {
              "lat": 20.7037536,
              "lng": -103.286952
            },
            {
              "lat": 20.7037441,
              "lng": -103.2869743
            },
            {
              "lat": 20.70293,
              "lng": -103.2888903
            },
            {
              "lat": 20.7023833,
              "lng": -103.2902596
            },
            {
              "lat": 20.7018266,
              "lng": -103.291698
            },
            {
              "lat": 20.701242,
              "lng": -103.2931556
            },
            {
              "lat": 20.7004914,
              "lng": -103.2950313
            },
            {
              "lat": 20.7001202,
              "lng": -103.2949797
            },
            {
              "lat": 20.699714,
              "lng": -103.2949298
            },
            {
              "lat": 20.6993844,
              "lng": -103.2948804
            },
            {
              "lat": 20.6990557,
              "lng": -103.2948372
            },
            {
              "lat": 20.6986368,
              "lng": -103.2947796
            },
            {
              "lat": 20.6983451,
              "lng": -103.2948456
            },
            {
              "lat": 20.6981852,
              "lng": -103.2947816
            },
            {
              "lat": 20.697991,
              "lng": -103.2943602
            },
            {
              "lat": 20.697735,
              "lng": -103.2943604
            },
            {
              "lat": 20.6975055,
              "lng": -103.2950336
            },
            {
              "lat": 20.6967902,
              "lng": -103.2967995
            }
          ]
        },
        {
          "from": "GRAN TERRAZA OBLA",
          "to": "SAN JUAN BOSCO",
          "amount": 39009.19,
          "trips": 1,
          "path": [
            {
              "lat": 20.6880969,
              "lng": -103.2973179
            },
            {
              "lat": 20.688535,
              "lng": -103.2971685
            },
            {
              "lat": 20.6889656,
              "lng": -103.2970217
            },
            {
              "lat": 20.6891644,
              "lng": -103.2969539
            },
            {
              "lat": 20.6892605,
              "lng": -103.2974339
            },
            {
              "lat": 20.6893551,
              "lng": -103.2979062
            },
            {
              "lat": 20.6895962,
              "lng": -103.2991109
            },
            {
              "lat": 20.6899156,
              "lng": -103.300697
            },
            {
              "lat": 20.690214,
              "lng": -103.3021958
            },
            {
              "lat": 20.6904852,
              "lng": -103.3038763
            },
            {
              "lat": 20.6904921,
              "lng": -103.3040129
            },
            {
              "lat": 20.6906136,
              "lng": -103.3047082
            },
            {
              "lat": 20.6907661,
              "lng": -103.3055028
            },
            {
              "lat": 20.6909122,
              "lng": -103.3063055
            },
            {
              "lat": 20.6910817,
              "lng": -103.3072034
            },
            {
              "lat": 20.6911579,
              "lng": -103.3073774
            },
            {
              "lat": 20.6912446,
              "lng": -103.3077956
            },
            {
              "lat": 20.6913524,
              "lng": -103.3083151
            },
            {
              "lat": 20.6915093,
              "lng": -103.3090717
            },
            {
              "lat": 20.6918215,
              "lng": -103.3105772
            },
            {
              "lat": 20.6918845,
              "lng": -103.3109612
            },
            {
              "lat": 20.6917995,
              "lng": -103.3112185
            },
            {
              "lat": 20.6917355,
              "lng": -103.3113673
            },
            {
              "lat": 20.6909279,
              "lng": -103.3133559
            },
            {
              "lat": 20.6908501,
              "lng": -103.3135651
            },
            {
              "lat": 20.690229,
              "lng": -103.3150875
            },
            {
              "lat": 20.6900893,
              "lng": -103.3150254
            },
            {
              "lat": 20.6895427,
              "lng": -103.3147833
            },
            {
              "lat": 20.6893407,
              "lng": -103.3147422
            },
            {
              "lat": 20.6889136,
              "lng": -103.3148019
            },
            {
              "lat": 20.68841,
              "lng": -103.3160605
            }
          ]
        },
        {
          "from": "16 DE septiembre",
          "to": "R. MICHEL",
          "amount": 34951.07,
          "trips": 1,
          "path": [
            {
              "lat": 20.6723604,
              "lng": -103.346299
            },
            {
              "lat": 20.6720547,
              "lng": -103.3455913
            },
            {
              "lat": 20.6716963,
              "lng": -103.3447557
            },
            {
              "lat": 20.6715248,
              "lng": -103.3443572
            },
            {
              "lat": 20.6714651,
              "lng": -103.3442185
            },
            {
              "lat": 20.6712729,
              "lng": -103.3441172
            },
            {
              "lat": 20.6707986,
              "lng": -103.3443103
            },
            {
              "lat": 20.6707246,
              "lng": -103.3443477
            },
            {
              "lat": 20.6704563,
              "lng": -103.3445272
            },
            {
              "lat": 20.6699662,
              "lng": -103.3448001
            },
            {
              "lat": 20.6689207,
              "lng": -103.3453725
            },
            {
              "lat": 20.6683653,
              "lng": -103.3456685
            },
            {
              "lat": 20.6676933,
              "lng": -103.3460248
            },
            {
              "lat": 20.6675163,
              "lng": -103.3461478
            },
            {
              "lat": 20.6673876,
              "lng": -103.346194
            },
            {
              "lat": 20.6673395,
              "lng": -103.3461538
            },
            {
              "lat": 20.6672341,
              "lng": -103.3460726
            },
            {
              "lat": 20.6671573,
              "lng": -103.3460494
            },
            {
              "lat": 20.6662504,
              "lng": -103.3459962
            },
            {
              "lat": 20.665451,
              "lng": -103.345954
            },
            {
              "lat": 20.6647031,
              "lng": -103.3459018
            },
            {
              "lat": 20.6640725,
              "lng": -103.3458667
            },
            {
              "lat": 20.6634253,
              "lng": -103.345828
            },
            {
              "lat": 20.6627768,
              "lng": -103.3457773
            },
            {
              "lat": 20.662016,
              "lng": -103.3457519
            },
            {
              "lat": 20.6612757,
              "lng": -103.3457232
            },
            {
              "lat": 20.6607945,
              "lng": -103.3457059
            },
            {
              "lat": 20.6592062,
              "lng": -103.3456353
            },
            {
              "lat": 20.6589902,
              "lng": -103.3456171
            },
            {
              "lat": 20.657936,
              "lng": -103.3455428
            },
            {
              "lat": 20.6576253,
              "lng": -103.3455321
            },
            {
              "lat": 20.6568722,
              "lng": -103.345506
            },
            {
              "lat": 20.6566433,
              "lng": -103.3454981
            },
            {
              "lat": 20.656289,
              "lng": -103.345416
            },
            {
              "lat": 20.6560423,
              "lng": -103.3452856
            },
            {
              "lat": 20.6559177,
              "lng": -103.3452037
            },
            {
              "lat": 20.6558909,
              "lng": -103.3451861
            },
            {
              "lat": 20.6555015,
              "lng": -103.3449301
            },
            {
              "lat": 20.6553472,
              "lng": -103.3448286
            },
            {
              "lat": 20.6551327,
              "lng": -103.3446876
            },
            {
              "lat": 20.6550485,
              "lng": -103.3446341
            },
            {
              "lat": 20.6549041,
              "lng": -103.3445424
            },
            {
              "lat": 20.6538311,
              "lng": -103.3438628
            },
            {
              "lat": 20.652982,
              "lng": -103.343327
            },
            {
              "lat": 20.6520222,
              "lng": -103.3427172
            },
            {
              "lat": 20.6507072,
              "lng": -103.3418817
            },
            {
              "lat": 20.6507733,
              "lng": -103.341767
            }
          ]
        },
        {
          "from": "ARBOLEDAS",
          "to": "EL FRESNO",
          "amount": 25697.65,
          "trips": 1,
          "path": [
            {
              "lat": 20.647129,
              "lng": -103.3872316
            },
            {
              "lat": 20.6469948,
              "lng": -103.3872588
            },
            {
              "lat": 20.646476,
              "lng": -103.3873602
            },
            {
              "lat": 20.6464449,
              "lng": -103.3871896
            },
            {
              "lat": 20.6502395,
              "lng": -103.3864184
            },
            {
              "lat": 20.651395,
              "lng": -103.3863145
            },
            {
              "lat": 20.6514148,
              "lng": -103.385688
            },
            {
              "lat": 20.6516762,
              "lng": -103.384656
            },
            {
              "lat": 20.6518033,
              "lng": -103.3844566
            },
            {
              "lat": 20.6519897,
              "lng": -103.3834498
            },
            {
              "lat": 20.6521672,
              "lng": -103.3824825
            },
            {
              "lat": 20.6525772,
              "lng": -103.3807591
            },
            {
              "lat": 20.6526463,
              "lng": -103.3805969
            },
            {
              "lat": 20.6533621,
              "lng": -103.3805868
            },
            {
              "lat": 20.6541783,
              "lng": -103.3805137
            },
            {
              "lat": 20.6542641,
              "lng": -103.3805067
            },
            {
              "lat": 20.6547772,
              "lng": -103.3804633
            },
            {
              "lat": 20.6552144,
              "lng": -103.3804217
            },
            {
              "lat": 20.655722,
              "lng": -103.3803847
            },
            {
              "lat": 20.6561666,
              "lng": -103.3803384
            },
            {
              "lat": 20.6567743,
              "lng": -103.3802837
            },
            {
              "lat": 20.657166,
              "lng": -103.3801883
            },
            {
              "lat": 20.6575877,
              "lng": -103.379856
            },
            {
              "lat": 20.6581362,
              "lng": -103.379583
            },
            {
              "lat": 20.6586567,
              "lng": -103.3793658
            },
            {
              "lat": 20.6584603,
              "lng": -103.3788458
            },
            {
              "lat": 20.6582797,
              "lng": -103.3783674
            },
            {
              "lat": 20.6581056,
              "lng": -103.3779061
            },
            {
              "lat": 20.6579324,
              "lng": -103.3774229
            },
            {
              "lat": 20.657755,
              "lng": -103.3769535
            },
            {
              "lat": 20.6575741,
              "lng": -103.3764685
            },
            {
              "lat": 20.6572136,
              "lng": -103.3755077
            },
            {
              "lat": 20.6568586,
              "lng": -103.374559
            },
            {
              "lat": 20.6577828,
              "lng": -103.3741698
            },
            {
              "lat": 20.6586742,
              "lng": -103.373782
            }
          ]
        },
        {
          "from": "TETLAN",
          "to": "RIO NILO",
          "amount": 10584.31,
          "trips": 1,
          "path": [
            {
              "lat": 20.6599112,
              "lng": -103.2769617
            },
            {
              "lat": 20.6600464,
              "lng": -103.2776073
            },
            {
              "lat": 20.6599251,
              "lng": -103.2776527
            },
            {
              "lat": 20.6591138,
              "lng": -103.2777341
            },
            {
              "lat": 20.6579318,
              "lng": -103.2778747
            },
            {
              "lat": 20.6574624,
              "lng": -103.2779446
            },
            {
              "lat": 20.6569613,
              "lng": -103.2780196
            },
            {
              "lat": 20.6568979,
              "lng": -103.2780286
            },
            {
              "lat": 20.6564739,
              "lng": -103.2780961
            },
            {
              "lat": 20.6560068,
              "lng": -103.2781724
            },
            {
              "lat": 20.6555614,
              "lng": -103.2782433
            },
            {
              "lat": 20.6554524,
              "lng": -103.2782642
            },
            {
              "lat": 20.6551327,
              "lng": -103.2783146
            },
            {
              "lat": 20.6548828,
              "lng": -103.2783573
            },
            {
              "lat": 20.6547091,
              "lng": -103.2783848
            },
            {
              "lat": 20.6543283,
              "lng": -103.2784455
            },
            {
              "lat": 20.6543704,
              "lng": -103.2789664
            },
            {
              "lat": 20.6544081,
              "lng": -103.2794321
            },
            {
              "lat": 20.654447,
              "lng": -103.279913
            },
            {
              "lat": 20.6544868,
              "lng": -103.2804054
            },
            {
              "lat": 20.6545612,
              "lng": -103.2813247
            },
            {
              "lat": 20.6540521,
              "lng": -103.2814003
            },
            {
              "lat": 20.6532922,
              "lng": -103.2815538
            },
            {
              "lat": 20.6527583,
              "lng": -103.2816616
            },
            {
              "lat": 20.6522483,
              "lng": -103.2817646
            },
            {
              "lat": 20.6517256,
              "lng": -103.2818701
            }
          ]
        }
      ],
      "cost_breakdown": {
        "distancia": 487.27,
        "seguro": 1098.55,
        "electronico": 1391.22
      },
      "raw_t": {
        "(0,7)": 1.0,
        "(13,14)": 1.0,
        "(17,19)": 1.0,
        "(18,9)": 1.0,
        "(1,16)": 1.0,
        "(20,8)": 1.0,
        "(2,11)": 1.0,
        "(3,6)": 1.0
      },
      "raw_x": {
        "(0,7)": 94789.9,
        "(13,14)": 47974.585,
        "(17,19)": 10584.313,
        "(18,9)": 46354.685,
        "(1,16)": 34951.069,
        "(20,8)": 39009.186,
        "(2,11)": 66821.783,
        "(3,6)": 25697.652
      },
      "raw_y": {
        "0": 295593.27,
        "1": 145807.44,
        "10": 7930.692,
        "11": 4143.093,
        "12": 18638.061,
        "13": 113744.17,
        "14": 34929.285,
        "15": 142527.53,
        "16": 12791.649,
        "17": 16678.248,
        "18": 26881.143,
        "19": 9863.223,
        "2": 418873.01,
        "20": 19776.204,
        "3": 31066.068,
        "4": 22626.372,
        "5": 43883.32,
        "6": 9577.542,
        "7": 9762.9,
        "8": 4138.206,
        "9": 1991.778
      },
      "gemini_insight": "<h4>AI-Powered Insights for Sunday</h4><h5>Cost Analysis:</h5><p>Optimized daily cost: <b>$31,033.67</b>. This is <b>12.4% lower</b> than the recent average of $35,413.93, indicating improved efficiency.</p><h5>Route & Cash Flow Efficiency:</h5><p>A total of <b>8</b> trips were made, redistributing <b>$366,183.17</b>.<br>The key transfer was <b>$94,789.90</b> from <b>JUAREZ</b> to <b>JUAREZ UNIVERSIDAD</b>.</p><h5>Estimated Savings Breakdown:</h5><p>By optimizing, an estimated <b>$29,481.99</b> was saved.</p><ul><li>Projected unoptimized cost: <b>$60,515.66</b></li><li>Actual optimized cost: <b>$31,033.67</b></li><li><b>Estimated Net Savings: $29,481.99</b></li></ul><p>This represents a <b>95.0% return</b> on logistics spending.</p><p style='font-size:0.85em; color: #444; margin-top:15px;'><i><b>Note:</b> Savings are logistics efficiencies.</i></p>"
    }
  },
  "locations": {
    "JUAREZ": {
      "lat": 20.67536371,
      "lng": -103.3486578
    },
    "16 DE septiembre": {
      "lat": 20.67208036,
      "lng": -103.3467178
    },
    "INDEPENDENCIA": {
      "lat": 20.72101092,
      "lng": -103.3196438
    },
    "ARBOLEDAS": {
      "lat": 20.64782907,
      "lng": -103.3865059
    },
    "TORRES BODETT": {
      "lat": 20.62370811,
      "lng": -103.3939648
    },
    "a": {
      "lat": 20.67740035,
      "lng": -103.2763742
    },
    "EL FRESNO": {
      "lat": 20.65856357,
      "lng": -103.3733442
    },
    "JUAREZ UNIVERSIDAD": {
      "lat": 20.67552134,
      "lng": -103.3487173
    },
    "SAN JUAN BOSCO": {
      "lat": 20.68855521,
      "lng": -103.3159766
    },
    "SAN ONOFRE": {
      "lat": 20.69705427,
      "lng": -103.2967491
    },
    "LONGINOS CADENA": {
      "lat": 20.63023167,
      "lng": -103.3768706
    },
    "MESA DEL NORTE": {
      "lat": 20.70503972,
      "lng": -103.3163662
    },
    "SANTA MONICA": {
      "lat": 20.68294131,
      "lng": -103.3492303
    },
    "8 DE julio": {
      "lat": 20.62630929,
      "lng": -103.3720602
    },
    "BODEGA DE LIQUIDACIO": {
      "lat": 20.62703,
      "lng": -103.34588
    },
    "JOSE MARIA IGLESIAS": {
      "lat": 20.67929139,
      "lng": -103.2912386
    },
    "R. MICHEL": {
      "lat": 20.65114294,
      "lng": -103.3406387
    },
    "TETLAN": {
      "lat": 20.65985358,
      "lng": -103.2772762
    },
    "JUAN PABLO II": {
      "lat": 20.70578809,
      "lng": -103.2860623
    },
    "RIO NILO": {
      "lat": 20.65175063,
      "lng": -103.282036
    },
    "GRAN TERRAZA OBLA": {
      "lat": 20.68810543,
      "lng": -103.297024
    }
  },
  "store_names_ordered": [
    "JUAREZ",
    "16 DE septiembre",
    "INDEPENDENCIA",
    "ARBOLEDAS",
    "TORRES BODETT",
    "a",
    "EL FRESNO",
    "JUAREZ UNIVERSIDAD",
    "SAN JUAN BOSCO",
    "SAN ONOFRE",
    "LONGINOS CADENA",
    "MESA DEL NORTE",
    "SANTA MONICA",
    "8 DE julio",
    "BODEGA DE LIQUIDACIO",
    "JOSE MARIA IGLESIAS",
    "R. MICHEL",
    "TETLAN",
    "JUAN PABLO II",
    "RIO NILO",
    "GRAN TERRAZA OBLA"
  ],
  "methodology": {
    "steps": [
      {
        "step": "1. Data Setup",
        "description": "Loaded store distances, coordinates, and pre-calculated optimization results."
      },
      {
        "step": "2. Route Calculation",
        "description": "Used OSMnx to calculate street-level routes between stores for realistic visualization."
      },
      {
        "step": "3. Data Processing & AI",
        "description": "Parsed daily results, structured data, and generated AI-simulated insights for each day."
      },
      {
        "step": "4. Frontend Data Assembly",
        "description": "Aggregated all data, including calculated street paths, for dashboard injection."
      },
      {
        "step": "5. Visualization",
        "description": "Generated an interactive dashboard with Google Maps displaying street-level routes, KPIs, and detailed analysis."
      }
    ]
  },
  "suppositions": {
    "coppel": [
      "Cash payments for 'abonos'.",
      "15% initial cash for credit sales (in payment data).",
      "Excess cash to central office electronically.",
      "Min. $150,000 per store for loans/credits.",
      "Min. $150,000 covers change needs."
    ],
    "team": [
      "USER_PROVIDED_RESULTS are optimal.",
      "CoppelCoor.csv coordinates are accurate after cleaning.",
      "dist_matrix_final.csv distances are accurate.",
      "Store order from dist_matrix_final.csv is canonical."
    ]
  },
  "optimization_model": {
    "parameters": [
      {
        "name": "d[i][j]",
        "description": "Distance (km) from dist_matrix_final.csv."
      },
      {
        "name": "C_viaje",
        "description": "Truck capacity ($100,000/trip)."
      },
      {
        "name": "L_max",
        "description": "Max cash/store ($250,000)."
      },
      {
        "name": "E_min",
        "description": "Min cash/store ($150,000)."
      }
    ],
    "variables": [
      {
        "name": "x[i][j]",
        "description": "Cash: store i to j."
      },
      {
        "name": "t[i][j]",
        "description": "#Trips: store i to j."
      },
      {
        "name": "y[i]",
        "description": "Electronic transfer: store i to central."
      }
    ],
    "objective": "Min Total Costs: 25*dist*trips + 0.3%*cash_transferred + 0.1%*e-transfers.",
    "constraints": [
      "Net cash flow/store ≤ $250K, ≥ $150K.",
      "E-transfers ≥ 30% cash sales (hypothetical).",
      "Cash transfers ≤ $100K * #trips."
    ]
  },
  "results_summary": {
    "weekly_cost": 226952.13999999998,
    "weekly_trips": 39,
    "weekly_cash_moved": 1490291.0399999998,
    "weekly_savings": 215604.533,
    "impact": "Optimized cash flow achieving an estimated <b>$215,604.53</b> in weekly savings vs. non-optimized scenario, enhancing operational efficiency."
  }
};
        let map;
        let markers = {};
        let polylines = [];

        function initMap() {
            map = new google.maps.Map(document.getElementById("map"), {
                center: { lat: 20.6597, lng: -103.3496 },
                zoom: 11,
                mapTypeControl: false,
                styles: [
                    { elementType: "geometry", stylers: [{ color: "#f5f5f5" }] },
                    { elementType: "labels.icon", stylers: [{ visibility: "off" }] },
                    { elementType: "labels.text.fill", stylers: [{ color: "#616161" }] },
                    { elementType: "labels.text.stroke", stylers: [{ color: "#f5f5f5" }] },
                    { featureType: "administrative.land_parcel", stylers: [{ visibility: "off" }] },
                    { featureType: "administrative.neighborhood", stylers: [{ visibility: "off" }] },
                    { featureType: "poi", elementType: "geometry", stylers: [{ color: "#eeeeee" }] },
                    { featureType: "poi", elementType: "labels.text.fill", stylers: [{ color: "#757575" }] },
                    { featureType: "poi.park", elementType: "geometry", stylers: [{ color: "#e5e5e5" }] },
                    { featureType: "poi.park", elementType: "labels.text.fill", stylers: [{ color: "#9e9e9e" }] },
                    { featureType: "road", elementType: "geometry", stylers: [{ color: "#ffffff" }] },
                    { featureType: "road.arterial", elementType: "labels.text.fill", stylers: [{ color: "#757575" }] },
                    { featureType: "road.highway", elementType: "geometry", stylers: [{ color: "#dadada" }] },
                    { featureType: "road.highway", elementType: "labels.text.fill", stylers: [{ color: "#616161" }] },
                    { featureType: "road.local", elementType: "labels.text.fill", stylers: [{ color: "#9e9e9e" }] },
                    { featureType: "transit.line", elementType: "geometry", stylers: [{ color: "#e5e5e5" }] },
                    { featureType: "transit.station", elementType: "geometry", stylers: [{ color: "#eeeeee" }] },
                    { featureType: "water", elementType: "geometry", stylers: [{ color: "#c9c9c9" }] },
                    { featureType: "water", elementType: "labels.text.fill", stylers: [{ color: "#9e9e9e" }] }
                ]
            });
            loadData();
        }

        function loadData() {
            const daySelector = document.getElementById('daySelector');
            Object.keys(hubData.results).forEach(day => {
                const option = document.createElement('option');
                option.value = day;
                option.textContent = day;
                daySelector.appendChild(option);
            });

            for (const [name, loc] of Object.entries(hubData.locations)) {
                markers[name] = new google.maps.Marker({
                    position: loc,
                    map: map,
                    title: name,
                    icon: {
                        url: "https://maps.google.com/mapfiles/ms/icons/blue-dot.png",
                        scaledSize: new google.maps.Size(32, 32)
                    }
                });
            }
            
            updateDashboard();
        }

        function updateDashboard() {
            const selectedDay = document.getElementById('daySelector').value;
            const dayData = hubData.results[selectedDay];

            polylines.forEach(p => p.setMap(null));
            polylines = [];
            
            const bounds = new google.maps.LatLngBounds();
            Object.values(markers).forEach(marker => bounds.extend(marker.getPosition()));

            if (dayData.status !== 'Optimal') {
                document.getElementById('kpi-cost').textContent = "N/A";
                document.getElementById('kpi-trips').textContent = "N/A";
                document.getElementById('kpi-cash').textContent = "N/A";
                document.getElementById('route-list').innerHTML = `<p>No se encontró solución óptima para ${selectedDay}.</p>`;
                document.getElementById('gemini-insights-content').innerHTML = dayData.gemini_insight;
                map.fitBounds(bounds);
                return;
            }

            document.getElementById('kpi-cost').textContent = `$${dayData.variableCost.toLocaleString('en-US', {maximumFractionDigits: 0})}`;
            document.getElementById('kpi-trips').textContent = dayData.totalTrips;
            document.getElementById('kpi-cash').textContent = `$${dayData.cashRedistributed.toLocaleString('en-US', {maximumFractionDigits: 0})}`;
            document.getElementById('gemini-insights-content').innerHTML = dayData.gemini_insight;

            const routeList = document.getElementById('route-list');
            routeList.innerHTML = dayData.routes.length > 0 ? '' : '<p>No se realizaron transferencias físicas este día.</p>';
            
            const amounts = dayData.routes.map(r => r.amount).filter(a => a > 0);
            const maxAmount = amounts.length > 0 ? Math.max(...amounts) : 1;
            
            dayData.routes.forEach(route => {
                const fromLoc = hubData.locations[route.from];
                const toLoc = hubData.locations[route.to];
                if (!fromLoc || !toLoc) return;

                const weight = 2 + 5 * (route.amount / maxAmount);
                let polyline;

                // --- INICIO DE LA LÓGICA CORREGIDA ---
                if (route.path && route.path.length > 1) {
                    // Si hay una ruta de calles, dibújala
                    polyline = new google.maps.Polyline({
                        path: route.path, // Usa la secuencia de coordenadas de Python
                        geodesic: true,
                        strokeColor: '#FF0000',
                        strokeOpacity: 0.8,
                        strokeWeight: weight,
                    });
                } else {
                    // Si no, dibuja una línea recta como fallback
                    polyline = new google.maps.Polyline({
                        path: [fromLoc, toLoc],
                        geodesic: true,
                        strokeColor: '#FF8C00', // Un color diferente para notar el fallback
                        strokeOpacity: 0.8,
                        strokeWeight: weight,
                    });
                }
                // --- FIN DE LA LÓGICA CORREGIDA ---

                polyline.setMap(map);
                polylines.push(polyline);
                
                const routeEl = document.createElement('div');
                routeEl.className = 'route-item';
                routeEl.innerHTML = `<strong>${route.from} → ${route.to}</strong><br>
                                     Monto: $${route.amount.toLocaleString('en-US', { style: 'currency', currency: 'USD' })}<br>
                                     Viajes: ${route.trips}`;
                routeEl.onmouseover = () => polyline.setOptions({ strokeColor: '#005A9C', zIndex: 99 });
                routeEl.onmouseout = () => polyline.setOptions({ strokeColor: (route.path && route.path.length > 1) ? '#FF0000' : '#FF8C00' });
                routeList.appendChild(routeEl);
            });
            
            // Reajustar el zoom del mapa para que se vean todas las rutas
            if (polylines.length > 0) {
                 polylines.forEach(p => {
                    p.getPath().forEach(latlng => bounds.extend(latlng));
                });
            }
            map.fitBounds(bounds);
        }
    </script>
    <script async src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDmHwZfn3sz6ZBqwwXLBZE7RdSd7rMxPOs&callback=initMap"></script>
</body>
</html>